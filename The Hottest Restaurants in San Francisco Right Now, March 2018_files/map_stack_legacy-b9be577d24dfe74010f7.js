!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n=window.webpackJsonp;window.webpackJsonp=function(e,i,o){for(var s,a,c=0,l=[];c<e.length;c++)a=e[c],r[a]&&l.push(r[a][0]),r[a]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s]);for(n&&n(e,i,o);l.length;)l.shift()()};var i={},r={13:0};e.e=function(t){function n(){a.onerror=a.onload=null,clearTimeout(c);var e=r[t];0!==e&&(e&&e[1](new Error("Loading chunk "+t+" failed.")),r[t]=void 0)}var i=r[t];if(0===i)return new Promise(function(t){t()});if(i)return i[2];var o=new Promise(function(e,n){i=r[t]=[e,n]});i[2]=o;var s=document.getElementsByTagName("head")[0],a=document.createElement("script");a.type="text/javascript",a.charset="utf-8",a.async=!0,a.timeout=12e4,e.nc&&a.setAttribute("nonce",e.nc),a.src=e.p+""+({0:"app-auth",1:"app-comments",4:"snippet-anim"}[t]||t)+"-"+{0:"00888f6f3c4a00fecd4c",1:"eb7fe4918df380c53022",2:"d0ec52053ce437f7c50d",3:"4ba675c901a510d03683",4:"57554a918cef4f2e12d9"}[t]+".chunk.js";var c=setTimeout(n,12e4);return a.onerror=a.onload=n,s.appendChild(a),o},e.m=t,e.c=i,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="https://cdn.vox-cdn.com/packs/",e.oe=function(t){throw console.error(t),t},e(e.s=386)}({0:function(t,e,n){(function(e){t.exports=e.jQuery}).call(e,n(9))},1:function(t,e,n){var i=n(0);Function.prototype.bind=Function.prototype.bind||function(t){var e=this;return function(){return e.apply(t,arguments)}},function(t,n){t.Backbone=function(t,e,n,i){"use strict";var r=t.Backbone,o=t.Exoskeleton,s=e.utils=n=n||{};e.$=i;var a=[],c=a.push,l=a.slice,u={}.toString;e.noConflict=function(){return t.Backbone=r,t.Exoskeleton=o,this},e.extend=function(t,e){var i,r=this;i=t&&n.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,e);var o=function(){this.constructor=i};return o.prototype=r.prototype,i.prototype=new o,t&&n.extend(i.prototype,t),i.__super__=r.prototype,i};var h=function(){throw new Error('A "url" property or function must be specified')},d=function(t,e){var n=e.error;e.error=function(i){n&&n(t,i,e),t.trigger("error",t,i,e)}},f=function(t){return"function"===typeof n[t]};s.result=function(t,e){var n=t?t[e]:void 0;return"function"===typeof n?t[e]():n},s.defaults=function(t){return l.call(arguments,1).forEach(function(e){for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},s.extend=function(t){return l.call(arguments,1).forEach(function(e){for(var n in e)t[n]=e[n]}),t};var p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};s.escape=function(t){return null==t?"":String(t).replace(/[&<>"']/g,function(t){return p[t]})},s.sortBy=function(t,e,n){var i="function"===typeof e?e:function(t){return t[e]};return t.map(function(t,e,r){return{value:t,index:e,criteria:i.call(n,t,e,r)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}).map(function(t){return t.value})};var m=0;s.uniqueId=function(t){var e=++m+"";return t?t+e:e},s.has=function(t,e){return Object.hasOwnProperty.call(t,e)};var g=function(t,e,i,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;var o=u.call(t);if(o!=u.call(e))return!1;switch(o){case"[object String]":return t==String(e);case"[object Number]":return t!==+t?e!==+e:0===t?1/t===1/e:t===+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var s=i.length;s--;)if(i[s]==t)return r[s]==e;var a=t.constructor,c=e.constructor;if(a!==c&&!("function"===typeof a&&a instanceof a&&"function"===typeof c&&c instanceof c))return!1;i.push(t),r.push(e);var l=0,h=!0;if("[object Array]"===o){if(l=t.length,h=l===e.length)for(;l--&&(h=g(t[l],e[l],i,r)););}else{for(var d in t)if(n.has(t,d)&&(l++,!(h=n.has(e,d)&&g(t[d],e[d],i,r))))break;if(h){for(d in e)if(n.has(e,d)&&!l--)break;h=!l}}return i.pop(),r.pop(),h};s.isEqual=function(t,e){return g(t,e,[],[])};var v=e.Events={on:function(t,e,n){return y(this,"on",t,[e,n])&&e?(this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push({callback:e,context:n,ctx:n||this}),this):this},once:function(t,e,n){if(!y(this,"once",t,[e,n])||!e)return this;var i,r=this,o=function(){i||(i=!0,r.off(t,o),e.apply(this,arguments))};return o._callback=e,this.on(t,o,n)},off:function(t,e,n){var i,r,o,s,a,c,l,u;if(!this._events||!y(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events=void 0,this;for(s=t?[t]:Object.keys(this._events),a=0,c=s.length;a<c;a++)if(t=s[a],o=this._events[t]){if(this._events[t]=i=[],e||n)for(l=0,u=o.length;l<u;l++)r=o[l],(e&&e!==r.callback&&e!==r.callback._callback||n&&n!==r.context)&&i.push(r);i.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=l.call(arguments,1);if(!y(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&b(n,e),i&&b(i,arguments),this},stopListening:function(t,e,n){var i=this._listeningTo;if(!i)return this;var r=!e&&!n;n||"object"!==typeof e||(n=this),t&&((i={})[t._listenId]=t);for(var o in i)t=i[o],t.off(e,n,this),!r&&Object.keys(t._events).length||delete this._listeningTo[o];return this}},A=/\s+/,y=function(t,e,n,i){if(!n)return!0;var r;if("object"===typeof n){for(var o in n)r=[o,n[o]],c.apply(r,i),t[e].apply(t,r);return!1}if(A.test(n)){for(var s=n.split(A),a=0,l=s.length;a<l;a++)r=[s[a]],c.apply(r,i),t[e].apply(t,r);return!1}return!0},b=function(t,e){var n,i=-1,r=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e)}},w={listenTo:"on",listenToOnce:"once"};Object.keys(w).forEach(function(t){var e=w[t];v[t]=function(t,i,r){return(this._listeningTo||(this._listeningTo={}))[t._listenId||(t._listenId=n.uniqueId("l"))]=t,r||"object"!==typeof i||(r=this),t[e](i,r,this),this}}),v.bind=v.on,v.unbind=v.off;var _=e.Model=function(t,e){var i=t||{};e||(e={}),this.cid=n.uniqueId("c"),this.attributes=Object.create(null),e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,e),this.changed=Object.create(null),this.initialize.apply(this,arguments)};if(n.extend(_.prototype,v,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(t){return n.extend({},this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,i){var r,o,s,a,c,l,u,h;if(null==t)return this;if("object"===typeof t?(o=t,i=e):(o={})[t]=e,i||(i={}),!this._validate(o,i))return!1;s=i.unset,c=i.silent,a=[],l=this._changing,this._changing=!0,l||(this._previousAttributes=n.extend(Object.create(null),this.attributes),this.changed={}),h=this.attributes,u=this._previousAttributes,this.idAttribute in o&&(this.id=o[this.idAttribute]);for(r in o)e=o[r],n.isEqual(h[r],e)||a.push(r),n.isEqual(u[r],e)?delete this.changed[r]:this.changed[r]=e,s?delete h[r]:h[r]=e;if(!c){a.length&&(this._pending=i);for(var d=0,f=a.length;d<f;d++)this.trigger("change:"+a[d],this,h[a[d]],i)}if(l)return this;if(!c)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!!Object.keys(this.changed).length:n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.extend(Object.create(null),this.changed);var e,i=!1,r=this._changing?this._previousAttributes:this.attributes;for(var o in t)n.isEqual(r[o],e=t[o])||((i||(i={}))[o]=e);return i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.extend(Object.create(null),this._previousAttributes)},fetch:function(t){t=t?n.extend({},t):{},void 0===t.parse&&(t.parse=!0);var e=this,i=t.success;return t.success=function(n){if(!e.set(e.parse(n,t),t))return!1;i&&i(e,n,t),e.trigger("sync",e,n,t)},d(this,t),this.sync("read",this,t)},save:function(t,e,i){var r,o,s,a=this.attributes;if(null==t||"object"===typeof t?(r=t,i=e):(r={})[t]=e,i=n.extend({validate:!0},i),r&&!i.wait){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;r&&i.wait&&(this.attributes=n.extend(Object.create(null),a,r)),void 0===i.parse&&(i.parse=!0);var c=this,l=i.success;return i.success=function(t){c.attributes=a;var e=c.parse(t,i);if(i.wait&&(e=n.extend(r||{},e)),e&&"object"===typeof e&&!c.set(e,i))return!1;l&&l(c,t,i),c.trigger("sync",c,t,i)},d(this,i),o=this.isNew()?"create":i.patch?"patch":"update","patch"===o&&(i.attrs=r),s=this.sync(o,this,i),r&&i.wait&&(this.attributes=a),s},destroy:function(t){t=t?n.extend({},t):{};var e=this,i=t.success,r=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(n){(t.wait||e.isNew())&&r(),i&&i(e,n,t),e.isNew()||e.trigger("sync",e,n,t)},this.isNew())return t.success(),!1;d(this,t);var o=this.sync("delete",this,t);return t.wait||r(),o},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||h();return this.isNew()?t:t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend(Object.create(null),this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return!i||(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1)}}),n.keys){["keys","values","pairs","invert","pick","omit"].filter(f).forEach(function(t){_.prototype[t]=function(){var e=l.call(arguments);return e.unshift(this.attributes),n[t].apply(n,e)}})}var x=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},T={add:!0,remove:!0,merge:!0},E={add:!0,remove:!1};if(n.extend(x.prototype,v,{model:"undefined"===typeof _?null:_,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,E))},remove:function(t,e){var n=!Array.isArray(t);t=n?[t]:t.slice(),e||(e={});var i,r,o,s;for(i=0,r=t.length;i<r;i++)(s=t[i]=this.get(t[i]))&&(delete this._byId[s.id],delete this._byId[s.cid],o=this.indexOf(s),this.models.splice(o,1),this.length--,e.silent||(e.index=o,s.trigger("remove",s,this,e)),this._removeReference(s,e));return n?t[0]:t},set:function(t,e){e=n.defaults({},e,T),e.parse&&(t=this.parse(t,e));var i=!Array.isArray(t);t=i?t?[t]:[]:t.slice();var r,o,s,a,c,l,u,h=e.at,d=this.model,f=this.comparator&&null==h&&!1!==e.sort,p="string"===typeof this.comparator?this.comparator:null,m=[],g=[],v={},A=e.add,y=e.merge,b=e.remove,w=!(f||!A||!b)&&[];for(r=0,o=t.length;r<o;r++){if(c=t[r]||{},s=c instanceof _?a=c:c[d.prototype.idAttribute||"id"],l=this.get(s))b&&(v[l.cid]=!0),y&&(c=c===a?a.attributes:c,e.parse&&(c=l.parse(c,e)),l.set(c,e),f&&!u&&l.hasChanged(p)&&(u=!0)),t[r]=l;else if(A){if(!(a=t[r]=this._prepareModel(c,e)))continue;m.push(a),this._addReference(a,e)}a=l||a,!w||!a.isNew()&&v[a.id]||w.push(a),v[a.id]=!0}if(b){for(r=0,o=this.length;r<o;++r)v[(a=this.models[r]).cid]||g.push(a);g.length&&this.remove(g,e)}if(m.length||w&&w.length)if(f&&(u=!0),this.length+=m.length,null!=h)for(r=0,o=m.length;r<o;r++)this.models.splice(h+r,0,m[r]);else{w&&(this.models.length=0);var x=w||m;for(r=0,o=x.length;r<o;r++)this.models.push(x[r])}if(u&&this.sort({silent:!0}),!e.silent){for(r=0,o=m.length;r<o;r++)(a=m[r]).trigger("add",a,this,e);(u||w&&w.length)&&this.trigger("sort",this,e)}return i?t[0]:t},reset:function(t,e){e||(e={});for(var i=0,r=this.models.length;i<r;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return l.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[t.id]||this._byId[t.cid]},at:function(t){return this.models[t]},where:function(t,e){return t&&Object.keys(t).length?this[e?"find":"filter"](function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0}):e?void 0:[]},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),"string"===typeof this.comparator||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(this.comparator.bind(this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.models.map(function(e){return e.get(t)})},fetch:function(t){t=t?n.extend({},t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e(i,n,t),i.trigger("sync",i,n,t)},d(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?n.extend({},e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var i=this,r=e.success;return e.success=function(t,n){e.wait&&i.add(t,e),r&&r(t,n,e)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId=Object.create(null)},_prepareModel:function(t,e){if(t instanceof _)return t;e=n.extend({},e),e.collection=this;var i=new this.model(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_addReference:function(t,e){this._byId[t.cid]=t,null!=t.id&&(this._byId[t.id]=t),t.collection||(t.collection=this),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,i),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}}),f("each")){["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"].filter(f).forEach(function(t){x.prototype[t]=function(){var e=l.call(arguments);return e.unshift(this.models),n[t].apply(n,e)}});["groupBy","countBy","sortBy"].filter(f).forEach(function(t){x.prototype[t]=function(e,i){var r="function"===typeof e?e:function(t){return t.get(e)};return n[t](this.models,r,i)}})}else["forEach","map","filter","some","every","reduce","reduceRight","indexOf","lastIndexOf"].forEach(function(t){x.prototype[t]=function(e,n){return this.models[t](e,n)}}),x.prototype.find=function(t,e){var n;return this.some(function(i,r,o){if(t.call(e,i,r,o))return n=i,!0}),n},["sortBy"].forEach(function(t){x.prototype[t]=function(e,i){var r="function"===typeof e?e:function(t){return t.get(e)};return n[t](this.models,r,i)}});var k=e.View=function(t){this.cid=n.uniqueId("view"),t&&Object.keys(t).forEach(function(e){-1!==C.indexOf(e)&&(this[e]=t[e])},this),this._ensureElement(),this.initialize.apply(this,arguments)},S=/^(\S+)\s*(.*)$/,C=["model","collection","el","id","attributes","className","tagName","events"];n.extend(k.prototype,v,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(!t&&!(t=n.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var i=t[e];"function"!==typeof i&&(i=this[t[e]]);var r=e.match(S);this.delegate(r[1],r[2],i.bind(this))}return this},delegate:function(t,e,n){this.$el.on(t+".delegateEvents"+this.cid,e,n)},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){this.$el.off(t+".delegateEvents"+this.cid,e,n)},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,i,r){r||(r={});var o=I[t],s={type:o,dataType:"json"};r.url||(s.url=n.result(i,"url")||h()),null!=r.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(r.attrs||i.toJSON(r))),"GET"!==s.type&&(s.processData=!1);var a=r.xhr=e.ajax(n.extend(s,r));return i.trigger("request",i,a,r),a};var I={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var M=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},R=/\((.*?)\)/g,P=/(\(\?)?:\w+/g,O=/\*\w+/g,j=/[\-{}\[\]+?.,\\\^$|#\s]/g,N=function(t){return!!t&&("object"===typeof t&&"[object RegExp]"===u.call(t))};n.extend(M.prototype,v,{initialize:function(){},route:function(t,n,i){N(t)||(t=this._routeToRegExp(t)),"function"===typeof n&&(i=n,n=""),i||(i=this[n]);var r=this;return e.history.route(t,function(o){var s=r._extractParameters(t,o);r.execute(i,s),r.trigger.apply(r,["route:"+n].concat(s)),r.trigger("route",n,s),e.history.trigger("route",r,n,s)}),this},execute:function(t,e){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=Object.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(j,"\\$&").replace(R,"(?:$1)?").replace(P,function(t,e){return e?t:"([^/?]+)"}).replace(O,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return n.map(function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null})}});var L=e.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},F=/^[#\/]|\s+$/g,B=/^\/+|\/+$/g,D=/\/$/,z=/[#].*$/;return L.started=!1,n.extend(L.prototype,v,{atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._wantsPushState||!this._wantsHashChange){t=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(D,"");t.indexOf(n)||(t=t.slice(n.length))}else t=this.getHash();return t.replace(F,"")},start:function(t){if(L.started)throw new Error("Backbone.history has already been started");L.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState;var e=this.getFragment();this.root=("/"+this.root+"/").replace(B,"/"),this._wantsPushState?window.addEventListener("popstate",this.checkUrl,!1):this._wantsHashChange&&window.addEventListener("hashchange",this.checkUrl,!1),this.fragment=e;var i=this.location;if(this._wantsHashChange&&this._wantsPushState&&this.atRoot()&&i.hash&&(this.fragment=this.getHash().replace(F,""),this.history.replaceState({},document.title,this.root+this.fragment)),!this.options.silent)return this.loadUrl()},stop:function(){window.removeEventListener("popstate",this.checkUrl),window.removeEventListener("hashchange",this.checkUrl),L.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){if(this.getFragment()===this.fragment)return!1;this.loadUrl()},loadUrl:function(t){return t=this.fragment=this.getFragment(t),this.handlers.some(function(e){if(e.route.test(t))return e.callback(t),!0})},navigate:function(t,e){if(!L.started)return!1;e&&!0!==e||(e={trigger:!!e});var n=this.root+(t=this.getFragment(t||""));if(t=t.replace(z,""),this.fragment!==t){if(this.fragment=t,""===t&&"/"!==n&&(n=n.slice(0,-1)),this._wantsPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace)}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),["Model","Collection","Router","View","History"].forEach(function(t){var n=e[t];n&&(n.extend=e.extend)}),n.extend(e,v),L&&(e.history=new L),e}(t,e,null,i)}(this)},10:function(t,e,n){"use strict";function i(){}n.d(e,"a",function(){return o});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i.prototype={_enabled:null,enabled:function(){if(null===this._enabled){try{localStorage.setItem("vox","vox"),localStorage.removeItem("vox"),this._enabled=!0}catch(t){this._enabled=!1}}return this._enabled},get:function(t){if(this.enabled()){var e=localStorage.getItem(t);if(e&&("{"===e[0]||"["===e[0]))return JSON.parse(e);if("string"===typeof e){if(/^(true|false)$/i.test(e))return"true"===e.toLowerCase();if(/^\d+$/.test(e))return parseInt(e);if(/^\d+\.\d+$/.test(e))return parseFloat(e)}}return e||null},set:function(t,e){this.enabled()&&("object"===("undefined"===typeof e?"undefined":r(e))&&(e=JSON.stringify(e)),localStorage.setItem(t,e))},remove:function(t){this.enabled()&&localStorage.removeItem(t)},clear:function(){this.enabled()&&localStorage.clear()}},e.b=new i;var o=i},105:function(t,e,n){"use strict";function i(t){this.view=t,this.app=t.app,x.a.isTouch()&&(this._pan=this.onPan.bind(this),this.touch=new _.a(t.el,{}),this.touch.on("pan panend",this._pan)),this.listenTo(this.app.cards,"selection",this.onSelect),this.onSelect()}function r(t){var e=this;this.view=t,this.app=t.app,this.listenTo(this.app.mapView,"marker",function(){e.app.settings.restoreLastMode()}),t.displayCards({none:!0}),document.body.scrollTop=0}function o(t){var e=this;this.app=t.app,h()(window).on("resize",T.a.throttle(function(){e.update()},250)).on("orientationchange",function(){e.update()}),this.update()}function s(t){O.b.trackScrollDepth({disable:!0}),this.app=t.app,this.listenTo(this.app.settings,"change:mode",this.track),this.listenTo(this.app.cards,"selection",this.track)}function a(t){this.app=t.app,h()(document).on("keydown",this.key.bind(this))}function c(t){var e=this;this.app=t.app,this.view=this.app.cardsView,x.a.supportsAutoplayVideo().then(function(){e.listenTo(e.app.cards,"selection",e.onSelect)}).catch(function(){})}function l(t,e){document.documentElement.className+=" mapstack-legacy",this.el=t,this.cards=new d.a(e.cards,e),this.settings=new f.a;var n={app:this};!1!==e.routing&&(this.router=new R.a(n)),!1!==e.keyboard&&(this.keyboard=new N(n)),this.resizer=new P(n),this.analytics=new j(n),this.controlsView=new A({el:t.querySelector('[data-view="controls"]'),app:this}),this.cardsView=new I({el:t.querySelector('[data-view="cards"]'),app:this}),this.mapView=new M.a({el:t.querySelector('[data-view="map"]'),data:e,app:this}),this.autoplay=new F(n)}var u=n(0),h=n.n(u),d=n(92),f=n(93),p=n(1),m=n.n(p),g=n(14),v=m.a.View.extend({initialize:function(t){this.app=t.app,this.listenTo(this.app.settings,"change:mode",this.render),this.listenTo(this.app.cards,"selection",this.render),this.render()},render:function(){var t=this.app.settings;this.$("[data-mode]").each(function(e,n){var i=h()(n);i.toggleClass("active",i.data("mode")===t.get("mode"))}),this.$('[data-view="controls-page"]').toggle(!t.isList()),this.$('[data-page="next"]').toggleClass("is-active",this.app.cards.canNext()),this.$('[data-page="prev"]').toggleClass("is-active",this.app.cards.canPrevious())},events:{"click [data-mode]":"onMode","click [data-page]":"onPage"},onMode:function(t){var e=this.app.settings,n=this.$(t.currentTarget).data("mode");n===g.b.MAP&&e.isMap()?e.restoreLastMode():e.set({mode:n})},onPage:function(t){var e=this.$(t.currentTarget).data("page"),n=this.app.settings;"next"===e?this.app.cards.next({action:"next:click",mapCard:n.isMap()}):this.app.cards.previous({action:"prev:click",mapCard:n.isMap()})}}),A=v,y=n(21),b=n(106),w=n(110),_=n.n(w),x=n(5),T=n(2);i.prototype=T.a.extend({_allowPan:!0,onSelect:function(){this.view.displayCards({slug:this.app.cards.selectedSlug()}),document.body.scrollTop=0},onPan:function(t){var e=this.app.cards,n=this.view.cardElsBySlug[e.selectedSlug()],i="panend"===t.type;if(this._allowPan)if(Math.abs(t.deltaX)>.25*window.innerWidth)n.removeAttribute("style"),this._allowPan=!1,t.deltaX>0?e.previous({action:g.c.SWIPE}):e.next({action:g.c.SWIPE});else{var r=i?0:t.deltaX;n.setAttribute("style","transform:translateX("+r+"px);")}i&&(this._allowPan=!0)},dispose:function(){this.stopListening(),this.touch&&this.touch.off("pan panend",this._pan),this.view=this.app=null}},m.a.Events);var E=i;r.prototype=T.a.extend({dispose:function(){this.stopListening(),this.view=this.app=this.$map=null}},m.a.Events);var k=r,S={list:b.a,stack:E,map:k},C=m.a.View.extend({initialize:function(t){var e=this;this.app=t.app,this.cardElsBySlug={},this.cardElsByOrder=[],this.app.cards.models.forEach(function(t){var n=t.get("slug"),i=e.el.querySelector('[data-slug="'+n+'"]');i&&(e.cardElsBySlug[n]=i,e.cardElsByOrder.push(i))}),this.listenTo(this.app.settings,"change:mode",this.onMode),this.onMode()},onMode:function(){var t=(this.el,this.app,this.app.settings.get("mode")),e=S[t];e&&(this.el.style.display="none",this.app.el.className=this.app.el.className.replace(/(\s|\b)mode-(list|stack|map)\b|$/," mode-"+t),this.presenter&&this.presenter.dispose(),this.presenter=new e(this),this.el.style.display="block")},displayCards:function(t){var e=!!t.all,n=!!t.none,i=this.cardElsBySlug,r=this.el.display;this.el.display="none";for(var o in i)if(i.hasOwnProperty(o)){var s=t.slug===o?"block":"none";e?s="block":n&&(s="none"),i[o].style.display=s}this.el.display=r},events:{"click [data-analytics-social]":"onSocial"},onSocial:function(t){t.preventDefault();var e=this.$(t.currentTarget),n=e.data("analytics-social"),i="twitter"===n?{text:this.app.cards.findWhere({slug:e.data("card-slug")}).get("title")}:null;y.a.share(e.attr("href"),n,i)}}),I=C,M=n(94),R=n(95);o.prototype={update:function(){var t=this.app.settings;!t.isMobile()&&t.isMap()&&t.restoreLastMode()}};var P=o,O=n(8);s.prototype=T.a.extend({track:function(){var t=this.app.cards,e=t.selectedCard(),n={virtualPagePath:t.slug+"/"+e.get("slug"),virtualPageTitle:e.get("title")||document.title,"Content ID":t.id,"Pagination Tracking":this.paginate(e)};t.selectAction&&O.b.event("navigation","mapstack:"+t.selectAction,n.virtualPageTitle,n),this.isPageView(e)&&O.b.pageview(n)},paginate:function(t){return t.isMapCard()&&t.isSponsored()?"Sponsored card":t.get("index")+1+" of "+this.app.cards.allEditorialMapCards().length},isPageView:function(t){var e=t.get("slug"),n=this.prevSlug!==e;return this.prevSlug=e,n&&t.isMapCard()&&this.app.settings.isStack()}},m.a.Events);var j=s;a.prototype={LEFT:37,UP:38,RIGHT:39,DOWN:40,key:function(t){var e={},n=this.app.cards,i=document.querySelector(":focus");if(!(i&&["input","textarea"].indexOf(i.tagName.toLowerCase())>-1))switch(this.app.settings.isMap()&&(e.mapCard=!0),t.which){case this.LEFT:case this.UP:return t.preventDefault(),n.previous(e);case this.RIGHT:case this.DOWN:return t.preventDefault(),n.next(e)}}};var N=a,L=n(18);c.prototype=T.a.extend({onSelect:function(){var t=this.app.cards.selectedSlug(),e=this.view.cardElsBySlug[t];if(e){L.a.stopAll();var n=e.querySelector('[data-volume-autoplay="true"] iframe, [data-volume-autoplay="paused"] iframe');n&&Object(L.a)(n).play()}}},m.a.Events);var F=c;e.a=l},106:function(t,e,n){"use strict";(function(t){function i(e){var n=this;this.app=e.app,this.view=e,e.el.style.marginBottom=window.innerHeight-this.getTopOffset()+"px",e.displayCards({all:!0}),t(function(){n.showSelectedCard(),n.listenTo(e.app.cards,"selection",n.onSelect),a()(document).on(u,c.a.throttle(n.onScroll.bind(n),200))})}var r=n(1),o=n.n(r),s=n(0),a=n.n(s),c=n(2),l=n(14),u="scroll.card-list";a.a.easing.mapstack=function(t){return t<.5?8*t*t*t*t:1-8*(t-=1)*t*t*t},i.prototype=c.a.extend({animating:!1,getTopOffset:function(){return this.app.settings.isMobile()?240:120},showSelectedCard:function(t){var e=this,n=this.app.cards.selectedSlug(),i=this.view.cardElsBySlug[n];if(i){var r=a()(i).offset().top-this.getTopOffset();t?(this.animating=!0,a()("html,body").stop().animate({scrollTop:r},{duration:300,easing:"mapstack",complete:function(){e.animating=!1}})):a()("html,body").scrollTop(r)}},onSelect:function(){this.app.cards.selectAction!==l.c.SCROLL&&this.showSelectedCard(!0)},onScroll:function(){if(!this.animating){for(var t=this.getTopOffset(),e=1/0,n=null,i=0;i<this.view.cardElsByOrder.length;i+=1){var r=this.view.cardElsByOrder[i],o=Math.abs(r.getBoundingClientRect().top-t);if(!(o<e))break;e=o,n=r.getAttribute("data-slug")}n&&this.app.cards.selectBySlug(n,l.c.SCROLL),this.view.$el.attr("data-bottom",document.body.scrollHeight-(document.body.scrollTop+window.innerHeight)<150)}},dispose:function(){this.stopListening(),a()(document).off(u),this.view.$el.data("data-bottom",!1),this.view.el.style.marginBottom=null,this.view=this.app=null}},o.a.Events),e.a=i}).call(e,n(107).setImmediate)},107:function(t,e,n){function i(t,e){this._id=t,this._clearFn=e}var r=Function.prototype.apply;e.setTimeout=function(){return new i(r.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(r.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(108),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},108:function(t,e,n){(function(t,e){!function(t,n){"use strict";function i(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return l[c]=i,a(c),c++}function r(t){delete l[t]}function o(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}function s(t){if(u)setTimeout(s,0,t);else{var e=l[t];if(e){u=!0;try{o(e)}finally{r(t),u=!1}}}}if(!t.setImmediate){var a,c=1,l={},u=!1,h=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?function(){a=function(t){e.nextTick(function(){s(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"===typeof n.data&&0===n.data.indexOf(e)&&s(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),a=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){s(t.data)},a=function(e){t.port2.postMessage(e)}}():h&&"onreadystatechange"in h.createElement("script")?function(){var t=h.documentElement;a=function(e){var n=h.createElement("script");n.onreadystatechange=function(){s(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():function(){a=function(t){setTimeout(s,0,t)}}(),d.setImmediate=i,d.clearImmediate=r}}("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(e,n(9),n(109))},109:function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){m&&f&&(m=!1,f.length?p=f.concat(p):g=-1,p.length&&a())}function a(){if(!m){var t=r(s);m=!0;for(var e=p.length;e;){for(f=p,p=[];++g<e;)f&&f[g].run();g=-1,e=p.length}f=null,m=!1,o(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var u,h,d=t.exports={};!function(){try{u="function"===typeof setTimeout?setTimeout:n}catch(t){u=n}try{h="function"===typeof clearTimeout?clearTimeout:i}catch(t){h=i}}();var f,p=[],m=!1,g=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new c(t,e)),1!==p.length||m||r(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},11:function(t,e,n){"use strict";function i(t,e,n){!e&&n&&(e=n),e=r.a.extend({},i.settings,e);var o=RegExp([(e.escape||s).source,(e.interpolate||s).source,(e.evaluate||s).source].join("|")+"|$","g"),a=0,u="__p+='";t.replace(o,function(e,n,i,r,o){return u+=t.slice(a,o).replace(c,l),a=o+e.length,n?u+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?u+="'+\n((__t=("+i+"))==null?'':__t)+\n'":r&&(u+="';\n"+r+"\n__p+='"),e}),u+="';\n",e.variable||(u="with(obj||{}){\n"+u+"}\n"),u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";var h;try{h=new Function(e.variable||"obj","_",u)}catch(t){throw t.source=u,t}var d=function(t){return h.call(this,t,r.a)};return d.source="function("+(e.variable||"obj")+"){\n"+u+"}",d}var r=n(2);r.a.escape=function(){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},e=function(e){return t[e]},n="(?:"+Object.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}}();var o={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g,variable:"data"},s=/(.)^/,a={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},c=/\\|'|\r|\n|\u2028|\u2029/g,l=function(t){return"\\"+a[t]};i.settings=o,e.a=i},110:function(t,e,n){var i;!function(r,o,s,a){"use strict";function c(t,e,n){return setTimeout(f(t,n),e)}function l(t,e,n){return!!Array.isArray(t)&&(u(t,n[e],n),!0)}function u(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==a)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function h(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),t.apply(this,arguments)}}function d(t,e,n){var i,r=e.prototype;i=t.prototype=Object.create(r),i.constructor=t,i._super=r,n&&ht(i,n)}function f(t,e){return function(){return t.apply(e,arguments)}}function p(t,e){return typeof t==pt?t.apply(e?e[0]||a:a,e):t}function m(t,e){return t===a?e:t}function g(t,e,n){u(b(e),function(e){t.addEventListener(e,n,!1)})}function v(t,e,n){u(b(e),function(e){t.removeEventListener(e,n,!1)})}function A(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function y(t,e){return t.indexOf(e)>-1}function b(t){return t.trim().split(/\s+/g)}function w(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function _(t){return Array.prototype.slice.call(t,0)}function x(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];w(r,s)<0&&i.push(t[o]),r[o]=s,o++}return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}function T(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<dt.length;){if(n=dt[o],(i=n?n+r:e)in t)return i;o++}return a}function E(){return bt++}function k(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}function S(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){p(t.options.enable,[t])&&n.handler(e)},this.init()}function C(t){var e=t.options.inputClass;return new(e||(xt?U:Tt?W:_t?q:V))(t,I)}function I(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=e&kt&&i-r===0,s=e&(Ct|It)&&i-r===0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,M(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function M(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=O(e)),r>1&&!n.firstMultiple?n.firstMultiple=O(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,c=e.center=j(i);e.timeStamp=vt(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=B(a,c),e.distance=F(a,c),R(n,e),e.offsetDirection=L(e.deltaX,e.deltaY);var l=N(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=gt(l.x)>gt(l.y)?l.x:l.y,e.scale=s?z(s.pointers,i):1,e.rotation=s?D(s.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,P(n,e);var u=t.element;A(e.srcEvent.target,u)&&(u=e.srcEvent.target),e.target=u}function R(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};e.eventType!==kt&&o.eventType!==Ct||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}function P(t,e){var n,i,r,o,s=t.lastInterval||e,c=e.timeStamp-s.timeStamp;if(e.eventType!=It&&(c>Et||s.velocity===a)){var l=e.deltaX-s.deltaX,u=e.deltaY-s.deltaY,h=N(c,l,u);i=h.x,r=h.y,n=gt(h.x)>gt(h.y)?h.x:h.y,o=L(l,u),t.lastInterval=e}else n=s.velocity,i=s.velocityX,r=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}function O(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:mt(t.pointers[n].clientX),clientY:mt(t.pointers[n].clientY)},n++;return{timeStamp:vt(),pointers:e,center:j(e),deltaX:t.deltaX,deltaY:t.deltaY}}function j(t){var e=t.length;if(1===e)return{x:mt(t[0].clientX),y:mt(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:mt(n/e),y:mt(i/e)}}function N(t,e,n){return{x:e/t||0,y:n/t||0}}function L(t,e){return t===e?Mt:gt(t)>=gt(e)?t<0?Rt:Pt:e<0?Ot:jt}function F(t,e,n){n||(n=Bt);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function B(t,e,n){n||(n=Bt);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function D(t,e){return B(e[1],e[0],Dt)+B(t[1],t[0],Dt)}function z(t,e){return F(e[0],e[1],Dt)/F(t[0],t[1],Dt)}function V(){this.evEl=Vt,this.evWin=Ut,this.allow=!0,this.pressed=!1,S.apply(this,arguments)}function U(){this.evEl=Wt,this.evWin=Yt,S.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function H(){this.evTarget=Qt,this.evWin=Zt,this.started=!1,S.apply(this,arguments)}function G(t,e){var n=_(t.touches),i=_(t.changedTouches);return e&(Ct|It)&&(n=x(n.concat(i),"identifier",!0)),[n,i]}function W(){this.evTarget=Jt,this.targetIds={},S.apply(this,arguments)}function Y(t,e){var n=_(t.touches),i=this.targetIds;if(e&(kt|St)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,s=_(t.changedTouches),a=[],c=this.target;if(o=n.filter(function(t){return A(t.target,c)}),e===kt)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<s.length;)i[s[r].identifier]&&a.push(s[r]),e&(Ct|It)&&delete i[s[r].identifier],r++;return a.length?[x(o.concat(a),"identifier",!0),a]:void 0}function q(){S.apply(this,arguments);var t=f(this.handler,this);this.touch=new W(this.manager,t),this.mouse=new V(this.manager,t)}function Q(t,e){this.manager=t,this.set(e)}function Z(t){if(y(t,ne))return ne;var e=y(t,ie),n=y(t,re);return e&&n?ne:e||n?e?ie:re:y(t,ee)?ee:te}function $(t){this.options=ht({},this.defaults,t||{}),this.id=E(),this.manager=null,this.options.enable=m(this.options.enable,!0),this.state=oe,this.simultaneous={},this.requireFail=[]}function J(t){return t&ue?"cancel":t&ce?"end":t&ae?"move":t&se?"start":""}function X(t){return t==jt?"down":t==Ot?"up":t==Rt?"left":t==Pt?"right":""}function K(t,e){var n=e.manager;return n?n.get(t):t}function tt(){$.apply(this,arguments)}function et(){tt.apply(this,arguments),this.pX=null,this.pY=null}function nt(){tt.apply(this,arguments)}function it(){$.apply(this,arguments),this._timer=null,this._input=null}function rt(){tt.apply(this,arguments)}function ot(){tt.apply(this,arguments)}function st(){$.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function at(t,e){return e=e||{},e.recognizers=m(e.recognizers,at.defaults.preset),new ct(t,e)}function ct(t,e){this.options=ht({},at.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=C(this),this.touchAction=new Q(this,this.options.touchAction),lt(this,!0),u(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function lt(t,e){var n=t.element;n.style&&u(t.options.cssProps,function(t,i){n.style[T(n.style,i)]=e?t:""})}function ut(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}var ht,dt=["","webkit","Moz","MS","ms","o"],ft=o.createElement("div"),pt="function",mt=Math.round,gt=Math.abs,vt=Date.now;ht="function"!==typeof Object.assign?function(t){if(t===a||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==a&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var At=h(function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&t[i[r]]===a)&&(t[i[r]]=e[i[r]]),r++;return t},"extend","Use `assign`."),yt=h(function(t,e){return At(t,e,!0)},"merge","Use `assign`."),bt=1,wt=/mobile|tablet|ip(ad|hone|od)|android/i,_t="ontouchstart"in r,xt=T(r,"PointerEvent")!==a,Tt=_t&&wt.test(navigator.userAgent),Et=25,kt=1,St=2,Ct=4,It=8,Mt=1,Rt=2,Pt=4,Ot=8,jt=16,Nt=Rt|Pt,Lt=Ot|jt,Ft=Nt|Lt,Bt=["x","y"],Dt=["clientX","clientY"];S.prototype={handler:function(){},init:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(k(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&v(this.element,this.evEl,this.domHandler),this.evTarget&&v(this.target,this.evTarget,this.domHandler),this.evWin&&v(k(this.element),this.evWin,this.domHandler)}};var zt={mousedown:kt,mousemove:St,mouseup:Ct},Vt="mousedown",Ut="mousemove mouseup";d(V,S,{handler:function(t){var e=zt[t.type];e&kt&&0===t.button&&(this.pressed=!0),e&St&&1!==t.which&&(e=Ct),this.pressed&&this.allow&&(e&Ct&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var Ht={pointerdown:kt,pointermove:St,pointerup:Ct,pointercancel:It,pointerout:It},Gt={2:"touch",3:"pen",4:"mouse",5:"kinect"},Wt="pointerdown",Yt="pointermove pointerup pointercancel";r.MSPointerEvent&&!r.PointerEvent&&(Wt="MSPointerDown",Yt="MSPointerMove MSPointerUp MSPointerCancel"),d(U,S,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=Ht[i],o=Gt[t.pointerType]||t.pointerType,s="touch"==o,a=w(e,t.pointerId,"pointerId");r&kt&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):r&(Ct|It)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))}});var qt={touchstart:kt,touchmove:St,touchend:Ct,touchcancel:It},Qt="touchstart",Zt="touchstart touchmove touchend touchcancel";d(H,S,{handler:function(t){var e=qt[t.type];if(e===kt&&(this.started=!0),this.started){var n=G.call(this,t,e);e&(Ct|It)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var $t={touchstart:kt,touchmove:St,touchend:Ct,touchcancel:It},Jt="touchstart touchmove touchend touchcancel";d(W,S,{handler:function(t){var e=$t[t.type],n=Y.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}),d(q,S,{handler:function(t,e,n){var i="touch"==n.pointerType,r="mouse"==n.pointerType;if(i)this.mouse.allow=!1;else if(r&&!this.mouse.allow)return;e&(Ct|It)&&(this.mouse.allow=!0),this.callback(t,e,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Xt=T(ft.style,"touchAction"),Kt=Xt!==a,te="auto",ee="manipulation",ne="none",ie="pan-x",re="pan-y";Q.prototype={set:function(t){"compute"==t&&(t=this.compute()),Kt&&this.manager.element.style&&(this.manager.element.style[Xt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return u(this.manager.recognizers,function(e){p(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),Z(t.join(" "))},preventDefaults:function(t){if(!Kt){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var i=this.actions,r=y(i,ne),o=y(i,re),s=y(i,ie);if(r){var a=1===t.pointers.length,c=t.distance<2,l=t.deltaTime<250;if(a&&c&&l)return}if(!s||!o)return r||o&&n&Nt||s&&n&Lt?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var oe=1,se=2,ae=4,ce=8,le=ce,ue=16;$.prototype={defaults:{},set:function(t){return ht(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(l(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=K(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return l(t,"dropRecognizeWith",this)?this:(t=K(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(l(t,"requireFailure",this))return this;var e=this.requireFail;return t=K(t,this),-1===w(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(l(t,"dropRequireFailure",this))return this;t=K(t,this);var e=w(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,i=this.state;i<ce&&e(n.options.event+J(i)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),i>=ce&&e(n.options.event+J(i))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|oe)))return!1;t++}return!0},recognize:function(t){var e=ht({},t);if(!p(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(le|ue|32)&&(this.state=oe),this.state=this.process(e),this.state&(se|ae|ce|ue)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},d(tt,$,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(se|ae),r=this.attrTest(t);return i&&(n&It||!r)?e|ue:i||r?n&Ct?e|ce:e&se?e|ae:se:32}}),d(et,tt,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ft},getTouchAction:function(){var t=this.options.direction,e=[];return t&Nt&&e.push(re),t&Lt&&e.push(ie),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(e.direction&Nt?(r=0===o?Mt:o<0?Rt:Pt,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===s?Mt:s<0?Ot:jt,n=s!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return tt.prototype.attrTest.call(this,t)&&(this.state&se||!(this.state&se)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=X(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),d(nt,tt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ne]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&se)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),d(it,$,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[te]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(Ct|It)&&!r)this.reset();else if(t.eventType&kt)this.reset(),this._timer=c(function(){this.state=le,this.tryEmit()},e.time,this);else if(t.eventType&Ct)return le;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===le&&(t&&t.eventType&Ct?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=vt(),this.manager.emit(this.options.event,this._input)))}}),d(rt,tt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ne]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&se)}}),d(ot,tt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Nt|Lt,pointers:1},getTouchAction:function(){return et.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Nt|Lt)?e=t.overallVelocity:n&Nt?e=t.overallVelocityX:n&Lt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&gt(e)>this.options.velocity&&t.eventType&Ct},emit:function(t){var e=X(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),d(st,$,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ee]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&kt&&0===this.count)return this.failTimeout();if(i&&r&&n){if(t.eventType!=Ct)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||F(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,s&&o?this.count+=1:this.count=1,this._input=t;if(0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=c(function(){this.state=le,this.tryEmit()},e.interval,this),se):le}return 32},failTimeout:function(){return this._timer=c(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==le&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),at.VERSION="2.0.6",at.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[rt,{enable:!1}],[nt,{enable:!1},["rotate"]],[ot,{direction:Nt}],[et,{direction:Nt},["swipe"]],[st],[st,{event:"doubletap",taps:2},["tap"]],[it]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};ct.prototype={set:function(t){return ht(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,i=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&le)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===e.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&n.state&(se|ae|ce)&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof $)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(l(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(l(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=w(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){var n=this.handlers;return u(b(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this},off:function(t,e){var n=this.handlers;return u(b(t),function(t){e?n[t]&&n[t].splice(w(n[t],e),1):delete n[t]}),this},emit:function(t,e){this.options.domEvents&&ut(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&lt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ht(at,{INPUT_START:kt,INPUT_MOVE:St,INPUT_END:Ct,INPUT_CANCEL:It,STATE_POSSIBLE:oe,STATE_BEGAN:se,STATE_CHANGED:ae,STATE_ENDED:ce,STATE_RECOGNIZED:le,STATE_CANCELLED:ue,STATE_FAILED:32,DIRECTION_NONE:Mt,DIRECTION_LEFT:Rt,DIRECTION_RIGHT:Pt,DIRECTION_UP:Ot,DIRECTION_DOWN:jt,DIRECTION_HORIZONTAL:Nt,DIRECTION_VERTICAL:Lt,DIRECTION_ALL:Ft,Manager:ct,Input:S,TouchAction:Q,TouchInput:W,MouseInput:V,PointerEventInput:U,TouchMouseInput:q,SingleTouchInput:H,Recognizer:$,AttrRecognizer:tt,Tap:st,Pan:et,Swipe:ot,Pinch:nt,Rotate:rt,Press:it,on:g,off:v,each:u,merge:yt,extend:At,assign:ht,inherit:d,bindFn:f,prefixed:T}),("undefined"!==typeof r?r:"undefined"!==typeof self?self:{}).Hammer=at,(i=function(){return at}.call(e,n,e,t))!==a&&(t.exports=i)}(window,document)},12:function(t,e,n){"use strict";function i(t){for(var e in t)if(document.body&&"undefined"!=typeof document.body.style[e])return t[e]}n.d(e,"a",function(){return r});var r=i({transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"});i({animation:"animationend",WebkitAnimation:"webkitAnimationEnd",msAnimation:"MSAnimationEnd",OAnimation:"oAnimationEnd"})},14:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return o});var i={INTRO:"intro",AD:"ad",POINT:"point",LINKS:"links",COMMENTS:"comments",DISCLAIMER:"disclaimer"},r={LIST:"list",STACK:"stack",MAP:"map"},o={MARKER:"marker",NEXT:"next",PREVIOUS:"prev",SCROLL:"scroll",SWIPE:"swipe"}},16:function(t,e,n){"use strict";var i=n(0),r=n.n(i),o=n(2),s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a={ajaxOptions:{},urls:{},urlFor:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.urls[t];if(i&&(i=i.replace(/:([^\d\/\.]+)/g,function(t,n){return"function"===typeof e.get?e.get(n):e[n]}),n)){var r=/^(https?:)?\/\//;i=i.replace(r,"https://"),r.test(i)||(i=location.origin.replace(r,"https://")+"/"+i.replace(/^\//,""))}return i},ajax:function(t,e){var n=this,i=r.a.Deferred(),a=o.a.extend({method:"get",dataType:"json",timeout:15e3},this.ajaxOptions,e||{});a.url=a.url||this.urlFor(t,a.https),"object"!==s(a.data)||"post"!==String(a.method).toLowerCase()||a.contentType||(a.data=JSON.stringify(a.data),a.contentType="application/json",a.processData=!1),a.success=function(t,r,o){e&&"function"===typeof e.success&&e.success.call(n,t,o),i.resolve(t)},a.error=function(t,r,o){o=t.responseJSON&&t.responseJSON.message||o,e&&"function"===typeof e.error&&e.error.call(n,o,t),i.reject(o)};var c=r.a.ajax(a),l=i.promise();return l.cancel=function(){"pending"===c.state()&&c.abort()},l},ajaxStub:function(t){return r.a.Deferred()[t.success?"resolve":"reject"](t.message).promise()},extend:function(t){for(var e in this)!this.hasOwnProperty(e)||e in t||"extend"===e||(t[e]=this[e]);return t}};e.a=a},17:function(t,e,n){"use strict";function i(t){return"number"===typeof t?t=new Date(t):"string"===typeof t?t=new Date(t).getTime():t instanceof Date&&(t=t.getTime()),t}function r(t,e,n){return(1===t?n||"A":t)+" "+e+(1===t?"":"s")+" ago"}var o=["January","February","March","April","May","June","July","August","September","October","November","December"],s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];e.a={EST:-5,relative:function(t,e){e=i(e||Date.now()),t=i(t||e);var n=e-t;if(n<1e3)return"Now";if(n<6e4)return r(Math.round(n/1e3),"second");if(n<36e5)return r(Math.round(n/6e4),"minute");if(n<864e5)return r(Math.round(n/36e5),"hour","An");if(n<6048e5)return r(Math.round(n/864e5),"day");var o=new Date(e),s=new Date(t),a=o.getMonth()-s.getMonth()+12*(o.getFullYear()-s.getFullYear());return n<24192e5||0===a?r(Math.round(n/6048e5),"week"):n<31536e6?r(a,"month"):r(Math.round(n/31536e6),"year")},absolute:function(t){var e=t instanceof Date?t:new Date(t),n=(e.getHours()+11)%12+1,i=e.getHours()<12?"AM":"PM",r=("00"+e.getMinutes()).slice(-2);return o[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()+" | "+n+":"+r+" "+i},recentRelative:function(t,e,n){return n=i(n||Date.now()),e=i(n-(e||864e5)),t=i(t||n),t>e?this.relative(t,n):this.absolute(t)},server:function(t,e){var n=new Date(i(e||Date.now())),r=n.getTime()+6e4*n.getTimezoneOffset();return new Date(r+36e5*t)},nameOfMonth:function(t){return o[t]},nameOfDay:function(t){return s[t]},relativeToToday:function(t,e){if(e=new Date(i(e||Date.now())),t=new Date(i(t||e)),t.toDateString()!==e.toDateString())return null;var n=t.toTimeString(),r=n.split(" ")[0],o=parseInt(r.split(":")[0])>=12?"pm":"am",s=parseInt(r.split(":")[0])%12;return 0===s&&(s=12),"Today at "+s+":"+r.split(":")[1]+" "+o+" "+/\((.+)\)/.exec(n.split(" ")[2])[1]},combinedRelative:function(t,e){return e=new Date(i(e||Date.now())),Math.floor((e-t)/1e3/60)<=120?this.relative(t,e):this.relativeToToday(t,e)}}},18:function(t,e,n){"use strict";function i(t){return new o(t)}function r(t){for(var e;!e&&t&&t.getAttribute;){if(e=t.getAttribute("data-analytics-placement"))return e;t=t.parentNode}return"other"}function o(t){if(!s)throw"volume is not installed";this.el=s.src(t)}var s,a=n(26),c=n.n(a),l=n(8),u=n(7),h=n(2);i.embedHost=window.volume_embed_host||"https://volume.vox-cdn.com",i.selectAllEmbeds=function(){return document.querySelectorAll('iframe[src^="'+this.embedHost+'/embed"]')},i.install=function(t){t&&(this.embedHost=t),this.log("install "+this.embedHost);var e,n=this.selectAllEmbeds(),r=document.querySelectorAll(".volume-video");for(s?s.host=this.embedHost:s=c.a.create("volume",this.embedHost).on("analytics",function(t,e){i.reportEvent(e)}).on("pauseOthers",function(t,e){i.postToAll("pause",null,t.source)}).on("host",function(t,e){return{url:location.href,origin:location.origin,title:document.title,api:!0}}).listen(),e=0;e<n.length;e+=1)this.trackView(n[e]);for(e=0;e<r.length;e+=1)this.embedVideo(r[e]);return this},i.uninstall=function(){s&&(s.dispose(),s=null)},i.reportEvent=function(t){l.b.event(t),this.log(t)},i.log=function(t){window.volume_debug&&console.log("volume: ",t)},i.embedVideo=function(t,e){var n=this,o=t.getAttribute("data-volume-uuid");if(o){e=h.a.extend({autoplay:t.getAttribute("data-volume-autoplay"),autoplay_with_sound:t.getAttribute("data-volume-autoplay-with-sound"),placement:t.getAttribute("data-volume-placement"),player_type:t.getAttribute("data-volume-player-choice"),start_time:t.getAttribute("data-volume-start-time"),tracking:r(t)},e||{});var s="data-volume-trigger",a=t.getAttribute(s)||"",c=/^(true|1)$/.test(e.autoplay);if(t.setAttribute(s,"none"),/^(lazy|click|embed|none)$/.test(a)||(a="lazy"),this.log("embedVideo ["+a+"] "+o+"-"+e.tracking),"lazy"===a){var l=c?0:-.5;u.a.trackElement(t,function(){t.setAttribute(s,"embed"),n.embedVideo(t)},l)}else if("click"===a)t.addEventListener("click",function e(n){n.preventDefault(),t.removeEventListener("click",e),t.setAttribute(s,"embed"),i.embedVideo(t,{autoplay:!0})}),this.trackView(t,e.tracking);else if("embed"===a){var d=Object.keys(e).filter(function(t){return!!e[t]}).map(function(t){return t+"="+e[t]});t.className=t.className.replace(/volume-video|p-scalable-video/g,"")+" p-scalable-video",t.innerHTML='<iframe src="'+this.embedHost+"/embed/"+o+"?"+d.join("&")+'" frameborder="0" allowfullscreen></iframe>',this.trackView(t,e.tracking)}}},i.trackView=function(t,e){var n=this._sku=this._sku||{};e=e||r(t);var o=/embed\/([^\/\?]+)/,s=function(){var e=/iframe/i.test(t.tagName)?t:t.querySelector("iframe");return e&&o.test(e.src)?e:null},a=s(),c=a?a.src.match(o)[1]:t.getAttribute("data-volume-uuid"),l=c+"-"+e;this.log("trackView "+l),c&&!n[l]&&(n[l]=!0,this.log("[tracking] "+l),u.a.trackElement(t,function(){a=a||s(),a?(i.log("[view] "+l),setTimeout(function(){i(a).request("view",document.title)},100)):(i.log("[view fallback] "+l),i.reportEvent({eventCategory:"video",eventAction:["volume","view",e].join(":"),eventLabel:[document.title,t.getAttribute("data-volume-id")||c].join(" | "),nonInteraction:!0}))},.1))},i.postToAll=function(t,e,n){for(var i=this.selectAllEmbeds(),r=0;r<i.length;r++){var o=s.src(i[r]);o!==n&&s.post(o,t,e)}},i.stopAll=function(){this.postToAll("pause")},o.prototype={play:function(t){return t&&t.request?this.request("play"):this.post("play")},pause:function(t){return t&&t.request?this.request("pause"):this.post("pause")},post:function(t,e){return s&&s.post(this.el,t,e),this},request:function(t,e,n){return s&&s.request(this.el,t,e,n),this}},e.a=i},19:function(t,e,n){"use strict";var i=n(3),r=n(1),o=n.n(r),s=n(0),a=n.n(s),c=n(2),l=n(12),u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h=c.a.extend({$el:null,dialog:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._open(t,e)},overlay:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._open(t,c.a.extend(e,{fixedSize:!0}))},parse:function(t){var e=this,n="object"===("undefined"===typeof t?"undefined":u(t));return n&&t.iframe?'<iframe src="'+t.iframe+'" width="100%" height="100%"></iframe>':n&&t.ajax?(a.a.ajax({url:t.ajax,success:function(t){e.$el&&e.$el.find("#modal-ajax").html(t),i.b.run()},error:function(){e.close()}}),'<div id="modal-ajax"><div class="p-modal__loading">Loading...</div></div>'):t||""},_open:function(t,e){var n=this;return this.close(),this.$el=a()('<div class="p-modal__window" id="modal-window"></div>').addClass(e&&e.fixedSize?"fixed-size":"auto-size").addClass(e&&e.className?e.className:"").html(this.parse(t)).append('<button class="p-modal__close" id="modal-close">\xd7</button>'),this.trigger("before:open"),setTimeout(function(){var t=a()("body");t.append(n.$el).addClass("modal-active").off("click.modal").on("click.modal",function(t){var e=a()(t.target);e.closest(n.$el).length&&!e.is("#modal-close")||(t.stopImmediatePropagation(),n.close())}),setTimeout(function(){t.addClass("modal-open")},0),n.trigger("open")},0),this},close:function(){var t=this;if(this.$el){this.trigger("before:close");var e=a()("body").off("click.modal"),n=function(){t.$el.remove(),t.$el=null,e.removeClass("modal-active modal-open p-modal__loading"),t.trigger("close")};return l.a&&"fixed"===e.css("position")?(this.$el.one(l.a,n),e.removeClass("modal-open")):n(),this}},ajaxForms:function(){var t=this,e=a.a.Deferred();return this.$el&&this.$el.on("submit",function(n){n.preventDefault();var i=a()(n.target);a.a.ajax({url:i.attr("action"),data:i.serialize(),method:"post",success:function(){t.close(),e.resolve()},error:function(){e.reject()}})}),e.promise()}},o.a.Events);e.a=h},2:function(t,e,n){"use strict";var i=n(0),r=n.n(i),o={"&":["&amp;","&AMP;","&#x00026;","&#x0026;","&#x026;","&#x26;","&#38;"],"<":["&lt;","&LT;","&#x0003C;","&#x003C;","&#x03C;","&#x3C;","&#60;"],">":["&gt;","&GT;","&#x0003E;","&#x003E;","&#x03E;","&#x3E;","&#62;"],'"':["&quot;","&QUOT;","&#x00022;","&#x0022;","&#x022;","&#x22;","&#34;"],"'":["&#x27;","&apos;","&#x00027;","&#x0027;","&#x027;","&#39;"],"`":["&#x60;","&grave;","&DiacriticalGrave;","&#x00060;","&#x0060;","&#x060;","&#96;"]},s={extend:function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}return t},all:function(){function t(){a.length===s?o.resolve(a):a.length+c.length===s&&o.reject(c,a)}for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];n[0]instanceof Array&&(n=n[0]);for(var o=r.a.Deferred(),s=n.length,a=[],c=[],l=0;l<s;l++)n[l]&&n[l].then(function(e){a.push(e),t()},function(e){c.push(e),t()});return o.promise()},pick:function(t){for(var e={},n=1;n<arguments.length;n++)e[arguments[n]]=t[arguments[n]];return e},debounce:function(t,e,n){var i;return function(){var r=n||this,o=arguments;clearTimeout(i),i=setTimeout(function(){t.apply(r,o)},e)}},throttle:function(t,e,n){var i=null,r=!1;return function o(){if(i)return void(r=!0);n=n||this,t.call(n),i=setTimeout(function(){var t=r;i=null,r=!1,t&&o.call(n)},e)}},get:function(t,e,n){var i=0;for(e=e.replace(/\]/g,"").split(/[\[\.]/);null!=t&&i<e.length;)t=t[e[i++]];return i&&i===e.length&&void 0!==t?t:n},paramitize:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n+"="+t[n]);return e.join("&")},deparamitize:function(t){var e={};t=(t||"").replace(/^(\?|\&)/,"").split("&");for(var n=0;n<t.length;n++){var i=t[n].split(/=(.+)?/);i.length>1&&(e[i[0]]=i[1]||"")}return e},currentUrl:function(){return window.location.href.split(/\?|#/)[0]},loadScript:function(t,e){var n=document.createElement("script");"function"===typeof e&&(n.onload=e),n.async=!0,n.src=t;var i=document.getElementsByTagName("script")[0];return i.parentNode.insertBefore(n,i),n},escape:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=function(t){return o[t][0]},n="(?:"+Object.keys(o).join("|")+")",i=RegExp(n,"g");return t.replace(i,e)},unescape:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";for(var e in o){var n="(?:"+o[e].join("|")+")",i=RegExp(n,"g");t=t.replace(i,e)}return t}};e.a=s},21:function(t,e,n){"use strict";(function(t){var i,r=n(0),o=(n.n(r),n(2)),s={campaign:null,content:null,medium:null,sources:{facebook:"http://www.facebook.com/sharer.php?u=",twitter:"https://twitter.com/intent/tweet?url=",pinterest:"https://www.pinterest.com/pin/create/button/?url=",linkedin:"https://www.linkedin.com/shareArticle?url=",flipboard:"https://share.flipboard.com/bookmarklet/popout?v=2&url=",pocket:"https://getpocket.com/save?url=",reddit:"https://reddit.com/submit?url="},share:function(e,n,r){n=n.toLowerCase();var o=570,s=570;switch(n){case"facebook":case"twitter":s=279;break;case"linkedin":s=520;break;case"pinterest":o=s=750;break;case"pocket":s=615;break;case"reddit":o=850}if("#"!==e[0]&&this.sources[n]){i&&i.close&&i.close();var a=screen.width/2-o/2,c=screen.height/2-s/2;if(i=window.open(this.formatSharer(e,n,r),"","width="+o+", height="+s+", top="+c+", left="+a),t.twttr&&"twitter"===n){var l=window.open;window.open=function(){},setTimeout(function(){window.open=l},0)}}},sharePage:function(t){this.share(location.href,t)},formatSharer:function(t,e,n){var i=this.parseLink(t),r=i.hostname.replace(/.*(twitter|facebook|pinterest|linkedin|flipboard|pocket|reddit).*/,"$1");if(r===e||!e&&this.sources[r]){var s="facebook"===r?"u":"url",a=o.a.deparamitize(i.search);if(a.hasOwnProperty(s))return t=decodeURIComponent(a[s]),a[s]=encodeURIComponent(this.formatLink(t,r)),[this.sources[r].split("?")[0],"?",o.a.paramitize(o.a.extend(a,n||{})),i.hash].join("")}var c=this.sources[e]+encodeURIComponent(this.formatLink(t,e));return n&&(c=c+"&"+o.a.paramitize(n)),c},formatLink:function(t,e){var n=this.parseLink(t),i=o.a.extend({utm_campaign:encodeURIComponent(this.campaign||location.hostname.replace(/(www\.)?(.+)\.com/,"$2")),utm_content:encodeURIComponent(this.content||"entry"),utm_medium:encodeURIComponent(this.medium||"social"),utm_source:e},o.a.deparamitize(n.search)),r=[n.protocol,"//",n.hostname].join("");return r=r.replace(/\/?$/,"/"),t=[r,n.pathname.replace(/(^\/|\/$)/g,""),"?",o.a.paramitize(i),n.hash].join("")},parseLink:function(t){var e=document.createElement("a");return e.href=t,e}};e.a=s}).call(e,n(9))},22:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(69),r=(n.n(i),n(3)),o=n(35);r.b.registerComponent("site/dynamic_size_image",function(t,e){o.a.addEl(t,e)},{priority:r.b.HIGH}),window.chorus_lazy_assets=function(){for(var t=document.querySelectorAll(".vox-lazy-load"),e=0;e<t.length;e++){var n=t[e];o.a.addEl(n,{image_id:n.getAttribute("data-imgkey")||null,asset_id:n.getAttribute("data-chorus-asset-id")||null,ratio:n.getAttribute("data-ratio")||"*"})}},window.DynamicImages=o.a,window.chorus_lazy_assets()},23:function(t,e,n){"use strict";var i,r=n(0),o=n.n(r),s=n(12),a=n(19),c={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",HAT:"hat",$el:null,notify:function(t,e,n){return this._open(t,null,e,n)},hat:function(t,e,n){return this._open(t,this.HAT,e,n)},info:function(t,e,n){return this._open(t,this.INFO,e,n)},success:function(t,e,n){return this._open(t,this.SUCCESS,e,n)},warning:function(t,e,n){return this._open(t,this.WARNING,e,n)},error:function(t,e,n){return this._open(t,this.ERROR,e,n)},parse:function(t){var e=t.trim().match(/^<(?:div|span)[^>]*class=['"]([\s\w-]+)['"][^>]*>([\S\s]+)<\/(?:div|span)>$/);return{message:e?e[2]:t,classes:e?e[1]:""}},_open:function(t,e){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t){var c=this.parse(t);if(!e){if(/__modal/.test(c.classes))return a.a.dialog(c.message);e=/__error/.test(c.classes)?this.ERROR:/__hat/.test(c.classes)?this.HAT:this.INFO}if(null===this.$el){var l=o()("body > *:first-child").first();[".c-global-header",".c-masthead"].forEach(function(t){var e=o()(t);e.length>0&&(l=e.first())}),this.$el=o()('<div id="chorus_notifiations"/>'),this.$el.insertBefore(l)}var u=o()('<div class="p-notice" id="notice"></div>').html(c.message).append(s?'<button class="p-notice-dismiss" id="notice-dismiss">\xd7</button>':"").addClass("p-notice-"+e).on("click","#notice-dismiss",function(){n.close(u)}).appendTo(this.$el);return setTimeout(function(){u.css("top","0")},0),r&&s&&(clearTimeout(i),i=setTimeout(function(){n.close(u)},2e3+25*t.length)),u}},close:function(t){return t?s.a?t.one(s.a,function(){t.remove()}).css("top",""):t.remove():this.$el&&(s.a?this.$el.children().one(s.a,function(t){o()(t.target).remove()}).css("top",""):this.$el.empty()),this}};e.a=c},24:function(t,e,n){"use strict";var i=n(1),r=n.n(i),o=n(16),s=n(2),a=r.a.Model.extend(o.a.extend({defaults:{comment_count:null,comment_unreads:0,id:null,recommended_count:null,recommended_by_user:!1,url:null},ajaxOptions:{method:"post"},urls:{rec:"/flags/recommend/:id.json",unrec:"/flags/unflag/:id.json"},reload:function(){this._req=!1,this.collection.load()},isRecommendedByUser:function(){return!!this.get("recommended_by_user")},recommend:function(t){var e=this,n=this.isRecommendedByUser(),i=this.get("recommended_count");return t=void 0===t?!n:t,n===t?this._rec||this.ajaxStub({success:!0}):(this._rec&&this._rec.cancel(),this.set({recommended_count:Math.max(0,i+(t?1:-1)),recommended_by_user:t}),this._rec=this.ajax(t?"rec":"unrec",{error:function(){e.set({recommended_count:i,recommended_by_user:n})}}),this._rec)}})),c=r.a.Collection.extend({model:a,endpoint:"/services/entry_stats?id=",initialize:function(){this.listenTo(this,"add",this.load)},load:s.a.debounce(function(){for(var t=this.models.filter(function(t){return!t._req}).map(function(t){return t._req=!0,t.id}).sort(function(t,e){return Number(e)-Number(t)}),e=t.length-1;e>=0;e-=1)t[e]!==t[e-1]&&t[e]||t.splice(e,1);t.length&&(this.url=this.endpoint+t.join(","),this.fetch())},250),parse:function(t){return t=t.reduce(function(t,e){return t[e.id]=e,t},{}),this.models.map(function(e){return s.a.extend(e.toJSON(),t[e.id]||{})})}});e.a=new c},25:function(t,e,n){"use strict";function i(t){n.e(0).then(n.bind(null,99)).then(function(e){return t(e.default)})}Object.defineProperty(e,"__esModule",{value:!0});var r=n(47),o=(n.n(r),n(6)),s=(n.n(o),n(3)),a=!1;s.b.registerComponent("apps/auth",function(t,e){i(function(n){a||(a=!0,new n(t,e))})},{open:function(t){i(function(e){return e.modal(t)})}})},26:function(t,e){!function(e,n){var i={debug:!1,create:function(t,i){return n(this,t,i,e)},isInIframe:function(){try{return e.parent&&e.self!==e.top}catch(t){return!0}},error:function(t){if(this.debug)throw t}};"object"===typeof t&&t.exports?t.exports=i:e.IframeClient=i}(window,function(t,e,n,i){function r(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}var o=r()+r()+"-"+r()+"-"+r()+"-"+r()+"-"+r()+r()+r(),s=e||"xframe",a=200,c=[],l={},u={},h=0,d=null,f=null;return{host:n||"*",get id(){return o},src:function(t){return"string"===typeof t&&(t=document.querySelector(t)),t&&t instanceof Element&&t.contentWindow&&(t=t.contentWindow),t&&"function"===typeof t.postMessage?t:null},post:function(e,n,i){if(!(e=this.src(e))||!n)return t.error("invalid post");var r="string"===typeof n?{message:n}:n;if(void 0!==i&&(r.value=i),r.message){r["@app"]=s;try{e.postMessage(JSON.stringify(r),this.host)}catch(e){t.error(e)}}},request:function(e,n,i,r,s){function c(){var t=!1;for(var e in l)if(l.hasOwnProperty(e)){var n=l[e];n.attempts++<n.timeout/a?(u.post(n.src,n.data),t=!0):u.end(e,new Error("request timeout"))}d=t?setTimeout(c,a):null}if(!(e=this.src(e))||!n)return t.error("invalid request");var u=this,f=o+"-"+("0000"+h++).slice(-4),p=l[f]={timeout:s||15e3,attempts:0,src:e,cb:r,data:{message:n,value:i,id:f}};return d?this.post(e,p.data):c(),f},end:function(t,e){var n=t.id||t,i=e&&e.abort;if(l.hasOwnProperty(n)){var r=l[n];delete l[n],i||"function"!==typeof r.cb||r.cb(e||null,t.value)}},on:function(t,e,n){return c.push({message:t,fn:e,ctx:n}),this},listen:function(){function t(t,e){for(var n,i=0;i<c.length;i++){var r=c[i];r.message===e.message&&(n=r.fn.call(r.ctx,t,e.value))}return n}if(!f){var e=this;f=function(n){var i,r="*"===e.host||String(n.origin).indexOf(e.host)>=0;if(r&&/^\{.*\}$/.test(n.data))try{i=JSON.parse(n.data)}catch(t){i=null}if(r&&i&&i["@app"]===s)if(i.id){var o="@res"===i.message;o&&l.hasOwnProperty(i.id)?e.end(i):o||u.hasOwnProperty(i.id)||(u[i.id]=!0,e.post(n.source,{message:"@res",value:t(n,i)||"success",id:i.id}))}else t(n,i)},i.addEventListener("message",f)}return this},stopListening:function(){return f&&(i.removeEventListener("message",f),f=null),this},dispose:function(){clearInterval(d),this.stopListening()}}})},29:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n(52),n(65),n(3)),r=n(1),o=n.n(r),s=n(0),a=n.n(s),c=[".c-read-more__intro"],l=o.a.View.extend({initialize:function(t){var e=t.data;a()(c).length&&e.url&&a()(c).each(function(){a()(this).html("Read more from").append('<img src="'+e.url+'" alt="'+e.alt+'" />')})}}),u=l;i.b.registerComponent("site/disclaimer/header",function(t,e){new u({el:t,data:e})})},3:function(t,e,n){"use strict";function i(){var t=this;this._c={},this._cinit={},this._onReady=[],this._buffer=[],this._queue=[],this._running=!1,this.perf={uri:{},com:{}},this.onReady(function(){t._onReady.forEach(function(e){t.task(e[0],e[1])}),t._onReady=null,t.run()})}n.d(e,"a",function(){return s});var r=window;r.requestIdleCallback=r.requestIdleCallback||function(t){function e(){var e=Date.now();t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})}return r.requestAnimationFrame?r.requestAnimationFrame(e):setTimeout(e,1)},"undefined"===typeof performance&&(performance=Date),i.prototype={onReady:r.jQuery||function(){var t,e=[],n=document,i=n.documentElement.doScroll,r=(i?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return r||n.addEventListener("DOMContentLoaded",t=function(){for(n.removeEventListener("DOMContentLoaded",t),r=1;t=e.shift();)t()}),function(t){r?t():e.push(t)}}(),LOW:0,MEDIUM:50,HIGH:100,registerComponent:function(t,e,n){"function"!==typeof e&&(n=e,e=function(){}),n=n||{},this._c[t]={fn:e,ex:n,priority:"number"===typeof n.priority?n.priority:this.MEDIUM},this._onReady||this.run()},get:function(t){if(!this._c.hasOwnProperty(t))throw'Component "'+t+'" is not defined. Add it as a dependency of the getter.';return this._c[t].ex},run:function(t,e,n){var i;return function(){var r=n||this,o=arguments;clearTimeout(i),i=setTimeout(function(){t.apply(r,o)},e)}}(function(t){for(var e=(t||document).querySelectorAll("[data-cid]"),n=function(t,e,n,i){var r=this;this.readyTask(function(){try{var o=performance.now();e.fn(t,JSON.parse(t.getAttribute("data-cdata")||"{}"));var s=r.perf.com[n]=performance.now()-o;r.perf.uri[i]=(r.perf.uri[i]||0)+s}catch(e){console.log("presto: error initializing "+t.getAttribute("data-cid"),e)}},{priority:e.priority})}.bind(this),i=0;i<e.length;i+=1){var r=e[i],o=r.getAttribute("data-cid"),s=o.split("-")[0],a=this._c[s];!this._cinit[o]&&a&&(this._cinit[o]=!0,n(r,a,o,s))}},10),readyTask:function(t,e){if(!this._onReady)return this.task(t,e);this._onReady.push([t,e])},task:function(t,e){var n=this,i={};for(var o in e)i[o]=e[o];if(i.fn=t,void 0===i.priority&&(i.priority=this.MEDIUM),this._buffer.push(i),!this._running){!function t(){n._running=!0,r.requestIdleCallback(function(e){for(n._queue=n._queue.concat(n._buffer).sort(function(t,e){return t.priority-e.priority}),n._buffer.length=0;n._queue.length&&e.timeRemaining()>0;)n._queue.pop().fn();n._queue.length||n._buffer.length?t():n._running=!1},{timeout:35})}()}},report:function(){var t=this,e={};Object.keys(this.perf.com).forEach(function(t){var n=t.split("-").shift();e[n]=(e[n]||0)+1});var n=Object.keys(this.perf.uri).map(function(n){var i=t.perf.uri[n],r=e[n];return{uri:n,total_time:i,average_time:i/r,count:r}}).sort(function(t,e){return e.total_time-t.total_time});return console.table?(console.table(n.reduce(function(t,e){return t[e.uri]=e,delete e.uri,t},{})),"Total milliseconds: "+n.reduce(function(t,e){return t+e.total_time},0)):n}};var o=new i;window.Initializer=o,e.b=o;var s=i},30:function(t,e,n){"use strict";e.a={hasLightBackground:function(t,e){var n=this.closestBackgroundColorToElement(t,e);return this.brightness(n)>128},closestBackgroundColorToElement:function(t,e){for(var n;t instanceof Element&&(n=this.parseRGBA(window.getComputedStyle(t,e).backgroundColor),0===n.a);)n=e=void 0,t=t.parentNode;return n||this.parseRGBA("#FFFFFF")},parseRGBA:function(t){var e=/^rgba?\(([\d\.\s]+),([\d\.\s]+),([\d\.\s]+)(?:,([\d\.\s]+))?\)$/i,n=[];if("transparent"===t)n=[0,0,0,0,0];else if(e.test(t))n=t.match(e);else{var i=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;i.test(t)&&(t=t.replace(i,function(t,e,n,i){return e+e+n+n+i+i})),r.test(t)&&(n=(t.match(r)||[]).map(function(t,e){return e?parseInt(t,16):t}))}return{r:parseFloat(n[1]||0),g:parseFloat(n[2]||0),b:parseFloat(n[3]||0),a:parseFloat(0===n[4]?0:n[4]||1)}},brightness:function(t){return"string"===typeof t&&(t=this.parseRGBA(t)),(299*t.r+587*t.g+114*t.b)/1e3}}},34:function(t,e,n){"use strict";function i(t){o=o||new MutationObserver(function(t){t.forEach(function(t){r(t.target.querySelector("img.native-ad-logo"))})}),o.observe(t,{attributes:!0,childList:!0,characterData:!0})}function r(t){if(t){var e=t.offsetWidth;if(e<120){var n=30/e,i=12+18*n;t.style.height=Math.round(Math.min(i,30))+"px"}}}Object.defineProperty(e,"__esModule",{value:!0});var o,s=n(66),a=(n.n(s),n(3)),c=n(30);a.b.registerComponent("site/entry_sponsorship",function(t,e){if(r(t.querySelector("img")),"cover"===e.placement&&c.a.hasLightBackground(t)){var n=t.querySelector(".c-entry-sponsorship--logo");n.src=n.getAttribute("data-contrast")||n.src}}),a.b.registerComponent("site/entry_sponsorship/native_ad",function(t){var e=t.querySelector("img.native-ad-logo");e?e.onload=function(){r(e)}:i(t)})},35:function(t,e,n){"use strict";var i=n(1),r=n.n(i),o=n(5),s=n(7),a=n(2),c=0,l=r.a.Model.extend({el:null,defaults:{image_id:null,asset_id:null,lazy:!0,lazy_ready:!1,placement_id:"default",ratio:"*",variation:1,url:null,format:"jpg",height:null,width:null},initialize:function(t,e){var n=this;this.el=e&&e.el,this.set("id",c++,{silent:!0}),this.el&&this.isLazy()&&(this.el.className+=" lazy-image",s.a.trackElement(this.el,function(){n.set("lazy_ready",!0),n.render()})),this.listenTo(this,"change:url",this.render),this.listenTo(this,"change:image_id change:asset_id",this.reload)},render:function(){var t=this.get("url");this.el&&t&&(!this.isLazy()||this.get("lazy_ready"))&&(0===this.el.offsetWidth&&0===this.el.offsetHeight||(this.isImage()?this.el.src=t:this.el.style.backgroundImage='url("'+t+'")',this.isLazy()&&(this.el.className+=" lazy-loaded")))},reload:function(){this.el&&(this.el.className=this.el.className.replace(/\s?\blazy-loaded\b/,"")),this.requestKey=null,this.collection.load()},aspectRatio:function(){var t=this.get("ratio");switch(t){case"cinema":return 16/9;case"portrait":return.75;case"standard":return 1.5;case"*":return 1}return"number"===typeof t?t:String(t).indexOf(":")>0?(t=t.split(":"),Number(t[0])/Number(t[1])):parseFloat(t)},width:function(){var t=window.devicePixelRatio||1;return(this.get("width")||this.el.offsetWidth||arguments[0]||this.height(440)*this.aspectRatio())*t},height:function(){var t=window.devicePixelRatio||1;return(this.get("height")||this.el.offsetHeight||arguments[0]||this.width(780)/this.aspectRatio())*t},isImage:function(){return!(!this.el||"img"!==this.el.tagName.toLowerCase())},isLazy:function(){return!!this.get("lazy")},setRequestKey:function(t){return this.requestKey||(t&&this.set({format:t}),this.requestKey=this._imageKey()||this._assetKey()),this.requestKey},_imageKey:function(){var t=this.get("image_id");return t&&[t,this.get("ratio"),this.get("variation"),this.width()+"x"+this.height(),this.get("format")].join(":")},_assetKey:function(){var t=this.get("asset_id");return t&&[t,this.width(),this.height()].join(":")}}),u=r.a.Collection.extend({model:l,initialize:function(){this.listenTo(this,"add",this.load),o.a.imageFormats()},endpoint:function(t,e){return"/services/optimally_sized_images?imgkeys="+t.join(",")+"&asset_keys="+e.join(",")},load:a.a.debounce(function(){var t=this;o.a.imageFormats().then(function(e){for(var n=t.models.filter(function(t){return!t.requestKey}).map(function(t){return t.setRequestKey(e.preferred)}).sort(),i=n.length-1;i>=0;i-=1)n[i]!==n[i-1]&&n[i]||n.splice(i,1);if(n.length){var r=n.filter(function(t){return t.indexOf("x")>0}),o=n.filter(function(t){return t.indexOf("x")<0});t.url=t.endpoint(r,o),t.fetch()}})},250),parse:function(t){var e=t.urls||{};return this.models.map(function(t){return{id:t.id,url:e[t.requestKey]||t.get("url")}})},addRect:function(t,e,n){return n.width=t,n.height=e,this.add(n)},addEl:function(t,e){if(t instanceof r.a.$&&(t=t[0]),!(t instanceof Element))throw"An element is required.";var n=this.findByElement(t);return n&&n.set(e),n||this.add(e,{el:t})},findByElement:function(t){for(var e=0;e<this.length;e+=1)if(this.models[e].el===t)return this.models[e];return null}});e.a=new u},36:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n(55),n(56),n(0)),r=n.n(i),o=n(2),s=n(3),a=n(61);r.a.fn.playGIF=function(t){var e=r.a.extend({on:"touchstart mouseenter",off:"touchstart mouseleave",autoResize:!1,enable:!0,circleBackgroundColor:"rgba(255,255,255,0.9)",circleTextColor:"#4C4E4D",gifText:"GIF",removeAnchor:!0},t),n=function(t,n,i){n=Math.floor(n),i=Math.floor(i);t.fillStyle=e.circleBackgroundColor,t.beginPath(),t.arc(n,i,35,0,2*Math.PI,!0),t.closePath(),t.fill(),t.fillStyle=e.circleTextColor,t.font="15px Helvetica,sans-serif",t.textAlign="center",t.textBaseline="middle",t.fillText(e.gifText,n,i)},i=function(t,n){n.off().on(e.off,function(){o(t,n)});var i=n.attr("src");n.attr("src","data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),n.css({width:t.attr("width"),height:t.attr("height")}),setTimeout(function(){n.attr("src",i)},0),t.replaceWith(n)},o=function(t,n){t.off().on(e.on,function(){i(t,n)}),n.replaceWith(t)};return this.each(function(){if(!1!==e.enable){var t=r()(this);if(!/img/i.test(this.tagName)||!/\.gif$/i.test(this.src))return!0;var o=document.createElement("canvas");if("undefined"===typeof o.getContext)return!0;var s=o.getContext("2d"),a=new Image;a.onload=function(){var c=o.width=t.width(),l=o.height=t.height();s.drawImage(a,0,0,c,l),a=null;var u=r()(o);if(!0===e.autoResize){o.setAttribute("data-src",t.attr("src")),o.setAttribute("class","gif");var h=r()('<span class="faux-image">');h.css({float:t.css("float"),margin:t.css("margin"),padding:t.css("padding"),"max-width":"100%",position:"relative",display:"block",height:o.height}),u.css({position:"absolute",top:0,left:0}),u=h.append(u)}else u.css({float:t.css("float"),margin:t.css("margin"),padding:t.css("padding"),display:t.css("display")});t.replaceWith(u);var d=u.parent();d.is("p")||"none"===d.css("max-width")&&"none"===d.css("max-height")||(c=d.width(),l=d.height()),e.removeAnchor&&d.is("a")&&/\.gif$/i.test(d.attr("href"))&&d.replaceWith(u),c>150&&l>150&&n(s,c/2,l/2),u.on(e.on,function(){i(u,t)})},a.src=t.attr("src")}})};var c=n(21),l={embedSanitizer:function(t){var e=['iframe[src*="youtube.com"]','iframe[src*="vine.co"]','iframe[src*="ooyala.com"]','iframe[src*="gfycat.com"]','iframe[src*="giphy.com"]','iframe[src*="theplatform.com"]','iframe[src*="twitch.tv"]','div[id*="ooyalaPlayer"]','iframe[src*="watchable.com"]'].join(", ");t.find(e).each(function(t,e){var n=r()(e);n.find("object, embed, video").attr("width","100%").attr("height","100%"),n.find(".OoyalaHtml5VideoPlayer, .oo_promoImag").css({width:"100%",height:"100%"}),n.find("table").addBack().removeAttr("width height style"),n.parents(".p-scalable-video").length<1&&("0px"!==n.parent().css("padding-bottom")&&(n.parent().css("padding-bottom",0),n.parent().css("height","auto")),n.wrap('<div class="p-scalable-video"></div>'))});var n=['iframe[src*="mlb.com"][data-aspect][data-src]'].join(", ");t.find(n).each(function(t,e){var n=r()(e),i=n.width(),o=Math.round(i/parseFloat(n.attr("data-aspect")));n.attr("src",n.attr("data-src")+"width="+i+"&height="+o).css({height:o+"px"})});var i=[".fb-video",'iframe[src*="facebook.com"]'].join(", ");t.find(i).each(function(t,e){var n=r()(e);n.parents(".c-video-embed").removeClass("c-video-embed").addClass("c-video-embed--self-sizing"),n.parents(".p-modal__window").css("max-width",.75*window.screen.height+"px"),n.parents(".p-scalable-video").children().unwrap()});var o=[".instagram-media"].join(", ");t.find(o).each(function(t,e){r()(e).css({marginLeft:"auto",marginRight:"auto",position:"relative"})})},hrIllo:function(t){var e=r()("#svg_hr_illustration").html();e&&t.find("hr.p-entry-hr").each(function(t,n){var i=r()(n);i.replaceWith('<div class="p-hr-illo"><span class="p-hr-illo__box">'+e+"</span>"+i[0].outerHTML+"</div>")})},dropCap:function(t){t.andSelf().find(".p-dropcap").each(function(t,e){var n=r()(e),i=n.text(),o=window.innerWidth<900?140:170,s=window.innerWidth<900?25:30;(n.hasClass("has-dropcap")||i.length>o&&i.split(" ").length>s)&&n.addClass("has-dropcap drop-letter-"+i[0].toLowerCase())})},captionSpacingNormalizer:function(t){t.find(".caption").each(function(t,e){var n=r()(e);n.prevUntil("figure, img, .p-fullbleed-block, .wide-image-block, .c-wide-block, div[data-volume-uuid], .p-scalable-video","p:empty").remove();var i=n.prev(".e-image").find(".e-image__meta");i.length>0&&(i.prepend("<figcaption>"+n.text()+"</figcaption>"),n.remove()),n.prev(".p-fullbleed-block, .wide-image-block, .c-wide-block").find(".e-image").length>0&&n.addClass("offset")})},imageEnlarge:function(t){var e=t.find(".e-image__image");e.length<1||e.each(function(t,e){s.b.get("site/image_enlarge").build(r()(e))})},dataTables:function(t){var e=t.find("table:not([class]), .sbn-boxscore-table").addClass("p-data-table");t.find("table.zebra").addClass("p-striped-table");var n=t.width();e.each(function(t,e){var i=r()(e);r()(e).width()>n&&i.wrap('<div class="p-overflow-wrapper"></div>')})},ratingsSnippet:function(t){t.find(".ratingbox .rating-number").each(function(t,e){r()(e).html(r()("<span>").width(25*r()(e).text()))})},shareQuote:function(t){var e=r()('meta[property="og:url"]').attr("content");t.find(".s-share-quote").each(function(){var t=encodeURIComponent(r()(this).find(".s-share-quote__text").html()),n=c.a.formatSharer(e,"facebook"),i=c.a.formatSharer(e,"twitter",{text:t});r()(this).append('<ul class="c-social-buttons c-social-buttons--bright">\n        <li class="c-social-buttons__item"><a class="c-social-buttons__item-link c-social-buttons__twitter" href="'+i+'" data-analytics-social="twitter"><svg class="p-svg-icon c-social-buttons__svg"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-twitter"></use></svg><span class="c-social-buttons__text">tweet</span></a></li>\n        <li class="c-social-buttons__item"><a class="c-social-buttons__item-link c-social-buttons__facebook" href="'+n+'" data-analytics-social="facebook"><svg class="p-svg-icon c-social-buttons__svg"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-facebook"></use></svg><span class="c-social-buttons__text">share</span></a></li>\n      </ul>')})},snippetAnimations:function(t){var e=t.find("[data-animated]");e.length<1||e.each(function(t,e){s.b.get("site/snippet_animation").build(e)})},listicleSharing:function(t){if(!(t.find(".js-social-item").length<1)){var e=r()('meta[property="og:url"]').attr("content");r()("body").on("click",".js-social-item a[data-analytics-social]",function(t){t.preventDefault();var n=r()(this).closest(".js-social-item").attr("id"),i=e+"#"+n,o=r()(this).attr("data-analytics-social");c.a.share(i,o)})}},refreshTwitterEmbeds:function(t){o.a.get(window,"twttr.widgets.load",r.a.noop)()},refreshInstagramEmbeds:function(t){o.a.get(window,"instgrm.Embeds.process",r.a.noop)()},legacyVoxmediaToolsSupprt:function(t){t.find('script[src*="//apps.voxmedia.com/tools"], script[src*="footnote-script"]').each(function(t,e){o.a.loadScript(r()(e).attr("src"))})},gifs:function(t){t.find('img[src$=".gif"]').playGIF()},pinterestEmbeds:function(t){r()("*[data-pin-do]").length>0&&r()('script[src*="pinit.js"]').length<1&&o.a.loadScript("https://assets.pinterest.com/js/pinit.js")},wideImageCompensation:function(t){t.find(".c-wide-block, .wide-image-block").each(function(t,e){var n=r()(e),i=n.find("img");i.length<1||!i.hasClass("lazy-image")||(i.hasClass("lazy-loaded")?n.addClass("is-loaded"):i.on("load",function(){n.addClass("is-loaded")}))})},socialButtonsReveal:function(t){if(r()("body").hasClass("experimental-layout-enabled")&&t.hasClass("c-entry-content")){var e=t.parent().find(".c-social-buttons--popover"),n=t.find("p:nth-of-type(1)").first(),i=e.position().top,o=n.css("marginLeft"),s=i-16,a=i+e.height()+16;t.children(":not(p):not(.c-float-right)").each(function(t,e){var n=r()(e),i=n.position().top-16,c=i+n.height()+16;(i<=a&&i>=s||c>=s&&c<=a)&&n.css({marginLeft:o})})}}},u=l,h=n(18),d=document.querySelector(".l-feature .c-entry-content, .l-page .c-entry-content");a.a.loadTwitter(),d&&(a.a.fullBleed(d),r()(window).on("resize",o.a.throttle(function(){a.a.fullBleed(d,1e3)}))),s.b.registerComponent("site/entry_formatter",function(t,e){function n(){var t=r()(".c-mapstack__card, .c-entry-content, .c-entry-intro, .l-col__main > .c-video-embed--media");if(t.length>0){var e={priority:s.b.LOW};s.b.task(function(){u.embedSanitizer(t)},e),s.b.task(function(){u.gifs(t)},e),s.b.task(function(){u.hrIllo(t)},e),s.b.task(function(){u.dropCap(t)},e),s.b.task(function(){u.imageEnlarge(t)},e),s.b.task(function(){u.dataTables(t)},e),s.b.task(function(){u.ratingsSnippet(t)},e),s.b.task(function(){u.shareQuote(t)},e),s.b.task(function(){u.snippetAnimations(t)},e),s.b.task(function(){u.captionSpacingNormalizer(t)},e),s.b.task(function(){u.listicleSharing(t)},e),s.b.task(function(){u.refreshTwitterEmbeds(t)},e),s.b.task(function(){u.refreshInstagramEmbeds(t)},e),s.b.task(function(){u.legacyVoxmediaToolsSupprt(t)},e),s.b.task(function(){u.pinterestEmbeds(t)},e),s.b.task(function(){u.wideImageCompensation(t)},e),s.b.task(function(){u.socialButtonsReveal(t)},e),s.b.task(function(){h.a.install()},e),t.each(function(){s.b.run(this)})}}document.addEventListener("anthem.preview-updated",n),n()});e.default={formatVideoEmbeds:function(t){u.embedSanitizer(t)},formatGIFs:function(t){u.gifs(t)}}},37:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n(25),n(79),n(3)),r=n(1),o=n.n(r),s=n(0),a=n.n(s),c=n(4),l=n(24),u=n(38),h=n(21),d=n(23),f=n(5),p=o.a.View.extend({initialize:function(t){var e=this;this.url=t.base_url,t.entry_id&&(this.entry=l.a.add({id:t.entry_id}),this.listenTo(this.entry,"change",this.renderRecs),this.renderRecs()),setTimeout(function(){u.a.fetch(t.services).always(function(){e.render()})},1500)},renderRecs:function(){var t=this.entry.isRecommendedByUser(),e=this.entry.get("recommended_count");this.entry&&this.$('[data-analytics-social="rec"]').toggleClass("is-recced",t).toggleClass("has-content",!!e&&!t).find('[data-ui="count"]').text(e?" ("+e+")":"")},render:function(){this.$("[data-analytics-social]").each(function(){var t=a()(this),e=t.data("analytics-social");u.a.hasCount(e)&&u.a.get(e)>0&&t.find('[data-ui="count"]').text(" ("+u.a.get(e)+")")})},events:{"click [data-analytics-social]":"onService"},onService:function(t){var e=this.$(t.currentTarget).data("analytics-social");if("email"===e)return void(f.a.browser().safari&&(window.location.href=this.$(t.currentTarget).attr("href"),t.preventDefault()));t.preventDefault();var n=t.currentTarget.href||this.url;"rec"===e?this.onRec():h.a.share(n,e)},onRec:function(){var t=this;c.d.fetch().then(function(){if(c.d.isLoggedIn())if(c.b.get("id")){if(!t.entry)return;var e=!t.entry.isRecommendedByUser();t.entry.recommend(e).done(function(){e&&d.a.success("Recommended.")}).fail(function(t){d.a.error(t)})}else d.a.error("You must be a member of "+c.a.get("name")+" to recommend.");else i.b.get("apps/auth").open()})}}),m=p,g=(n(2),"mousemove.social-popover"),v=m.extend({close:function(){var t=this.$popover;t&&(a()(document).off(["click.social-popover",g].join(" ")),t.hide())},events:{"click [data-analytics-social]":"social",'click [data-ui="more"]':"onMore"},onMore:function(t){var e=this;t.preventDefault();var n=this.$popover=this.$popover||this.$('[data-ui="popover"]');n.is(":visible")||requestAnimationFrame(function(){var i=a()(t.currentTarget),r=i.offset(),o=i.parent().offset(),s=n.outerHeight(),c=n.outerWidth(),l=s>r.top-20-document.documentElement.scrollTop,u=l?"calc(100% + 5px)":i.position().top-(s+5),h=Math.min(r.left+c-20,window.innerWidth-20)-c-o.left,d=r.left-o.left;n.toggleClass("below",l).find('[data-ui="caret"]').css({left:Math.round(d-h+10)}),n.css({top:u,left:h}).show(),requestAnimationFrame(function(){var t=n[0].getBoundingClientRect();a()(document).off(["click.social-popover",g].join(" ")).on("click.social-popover",function(t){!a()(t.target).closest(n).length>0&&e.close()}).on(g,function(n){var i=n.clientX,r=n.clientY,o=t.y-50-(l?20:0),s=t.y+t.height+50+(l?0:20);(i<t.x-50||i>t.x+t.width+50||r<o||r>s)&&e.close()})})})},social:function(t){var e=this;this.onService(t),setTimeout(function(){return e.close()},250)}}),A=v;i.b.registerComponent("site/social_buttons_list",function(t,e){e.el=t,new m(e)}),i.b.registerComponent("site/social_buttons_list/popover",function(t,e){e.el=t,new A(e)})},38:function(t,e,n){"use strict";function i(t){return new c({url:t})}e.b=i;var r=n(1),o=n.n(r),s=n(16),a=n(2),c=o.a.Model.extend(s.a.extend({urls:{facebook:"https://api.facebook.com/method/links.getStats",linkedin:"https://www.linkedin.com/countserv/count/share",pinterest:"https://widgets.pinterest.com/v1/urls/count.json"},ajaxOptions:{method:"get"},defaults:{url:location.href.split("?")[0],twitter:null,facebook:null,facebook_shares:null,facebook_likes:null,linkedin:null,pinterest:null},hasCount:function(t){return"number"===typeof this.get(t)},fetch:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0]instanceof Array&&(e=e[0]);for(var i=this._c=this._c||{},r=[],o=0;o<e.length;o++){var s=e[o];this.urls[s]&&(i[s]||(i[s]=this["facebook"===s?"_fb":"_other"](s)),r.push(i[s]))}return a.a.all(r)},_fb:function(t){var e=this;return this.ajax(t,{data:{urls:this.get("url"),format:"json"},success:function(t){t&&t.length&&e.set({facebook:t[0].share_count,facebook_shares:t[0].share_count,facebook_likes:t[0].like_count})}})},_other:function(t){var e=this;return this.ajax(t,{dataType:"jsonp",data:{url:this.get("url"),format:"jsonp"},success:function(n){e.set(t,n.count)}})}}));e.a=new c},386:function(t,e,n){n(41),n(387),n(48),t.exports=n(82)},387:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var e=(n(63),n(46),n(29),n(57),n(36),n(76),n(77),n(80),n(37),n(75),n(48),n(388)),i=(n.n(e),n(3)),r=n(105);i.b.registerComponent("apps/map_stack_legacy",function(e,n){t.mapstack=new r.a(e,n)})}.call(e,n(9))},388:function(t,e){},39:function(t,e,n){"use strict";(function(t){function i(t){var e={callback:"_googleMapsAPILoaded",libraries:t.libs||"places,geometry",sensor:!1,v:3},n=c.c.get(t.isPreview?"google_maps_preview_api_key":"google_maps_api_key");return n?e.key=n:e.client=c.c.get("google_maps_client"),e}function r(t){var e=i(t),n=[];for(var r in e)n.push(r+"="+e[r]);return"https://maps.googleapis.com/maps/api/js?"+n.join("&")}var o,s=n(0),a=n.n(s),c=n(4);e.a=function(e){return e=e||{},o||(o=a.a.Deferred(),t.google&&t.google.maps?o.resolve(google.maps):c.c.fetch().done(function(){t._googleMapsAPILoaded=function(){o.resolve(google.maps)},a.a.getScript(r(e))})),o.promise()}}).call(e,n(9))},4:function(t,e,n){"use strict";n.d(e,"d",function(){return g}),n.d(e,"b",function(){return v}),n.d(e,"a",function(){return A}),n.d(e,"c",function(){return y});var i=n(1),r=n.n(i),o=n(0),s=n.n(o),a=n(2),c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l={fetch:function(t){return this.ctx._fetch(t)},reset:function(){this.set(this.defaults,{silent:!0})}},u=r.a.Model.extend(a.a.extend({url:"/services/user_context",log:[],defaults:{auth_url:"",env:null,messaging:"",tos_notifications:[]},initialize:function(){var t,e,n,i;this.currentUser=t=new h,this.currentMember=e=new d,this.currentCommunity=n=new p,this.currentNetwork=i=new f,t.ctx=e.ctx=n.ctx=i.ctx=this.ctx=this},parse:function(t){if(this.currentUser.set(t.user||{}),this.currentMember.set(t.member||{}),this.currentCommunity.set(t.community||{}),this.currentNetwork.set(t.network||{}),["user","member","community","network"].forEach(function(e){delete t[e]}),t.tos_notifications){var e,n=function(t){return!t.geo_continent_constraint||(e=e||document.cookie.match(new RegExp("_chorus_geoip_continent=([^;]+)"))||[],null!=e[1]&&e[1]==t.geo_continent_constraint)},i=[];t.tos_notifications.forEach(function(t){n(t)&&0==i.filter(function(e){return e.id==t.id}).length&&i.push(t)}),t.tos_notifications=i}return t},_fetch:function(t){var e=this;return this._ajax||(this.log.push("fetch"),this._ajax=r.a.Model.prototype.fetch.call(this,t).done(function(){return e.log.push("fetch complete")})),this._ajax},fetchUser:function(t){var e=this;if(t&&t.refresh&&(this.currentUser.reset(),this._user=null,"object"===("undefined"===typeof Chorus?"undefined":c(Chorus))&&(Chorus.ssoLogin=null)),!this._user){var n=this._user=s.a.Deferred();this.log.push("Fetching Primary Context"),this._fetch().done(function(){if(e.log.push("Primary complete, with user: "+e.currentUser.get("id")),e.currentUser.get("id"))return n.resolve();var i=e.get("auth_url")+"/sso/unison_request?community_id="+e.currentCommunity.get("id")+"&t="+Date.now();e.log.push("Fetching SSO-1: "+i),a.a.loadScript(i,function(){if(e.log.push("SSO-1 complete, with status: "+Chorus.ssoLogin),!Chorus.ssoLogin)return n.resolve();var i=Chorus.ssoLogin;Chorus.ssoLogin=null,e.log.push("Fetching SSO-2: "+i),a.a.loadScript(i,function(){if(e.log.push("SSO-2 complete, with status: "+Chorus.ssoLogin),!Chorus.ssoLogin)return n.resolve();e.log.push("Fetching Secondary Context"),e.url+="?t="+Date.now(),r.a.Model.prototype.fetch.call(e,t).done(function(){e.log.push("Secondary complete, with user: "+e.currentUser.get("id")),n.resolve()})})})})}return this._user.promise()},isProd:function(){return"production"===this.get("env")}},l)),h=r.a.Model.extend(a.a.extend(l,{defaults:{account_settings_url:null,ban_acknowledgement_needed:!1,can_edit:!1,contributor_agreement_accepted:!1,country:null,edit_profile_url:null,email:null,first_name:null,id:null,is_network_member:!1,is_community_member:!1,last_login:null,last_name:null,network_admin:!1,profile_image_url:null,profile_url:null,status:null,time_zone:null,username:null,geo:null},fetch:function(t){return this.ctx.fetchUser(t)},isLoggedIn:function(){return!!this.get("id")}})),d=r.a.Model.extend(a.a.extend(l,{defaults:{ban_acknowledgement_needed:!1,community_id:null,comment_count:null,display_on_masthead:!1,favorite:!1,last_visited_on:null,legacy_nickname:null,legacy_user_id:null,short_bio:null,status:null,user_id:null},fetch:function(t){return this.ctx.fetchUser(t)}})),f=r.a.Model.extend(a.a.extend({defaults:{domain:null,id:!1,name:null,primary_community_url:"",primary_community_id:null}},l)),p=r.a.Model.extend(a.a.extend({defaults:{domain:null,id:!1,name:null,terms_of_agreement:"",community_guidelines_url:null}},l)),m=new u;e.e=m;var g=m.currentUser,v=m.currentMember,A=m.currentCommunity,y=m.currentNetwork},40:function(t,e,n){"use strict";function i(){function t(t){var e=document.createElement("div");e.className=t.cssClass;t.label;e.setAttribute("data-marker",t.slug);var n=t.html||'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">\n        <path d="M10,0.5c2.7-0.1,6.6,1.8,7.1,7c0.4,5.2-7.1,11.6-7.1,11.6l0,0c0,0-7.5-6.4-7.1-11.6C3.4,2.3,7.2,0.5,10,0.5"/>\n      </svg><span>'+t.label+"</span>";e.innerHTML=n,this.el=e,this.latlng=new google.maps.LatLng(t.lat,t.lon)}if("undefined"===typeof google||!google.maps)throw"googleMapsLoader must be run before requesting a googleMapsMarker";var e=new google.maps.OverlayView;return t.prototype=o.a.extend(e||{},{onAdd:function(){this.getPanes().overlayMouseTarget.appendChild(this.el)},onRemove:function(){this.el.parentNode.removeChild(this.el),this.el=null},draw:function(){var t=this.getProjection().fromLatLngToDivPixel(this.latlng);this.el.style.left=t.x+"px",this.el.style.top=t.y+"px"},isHilited:function(){return/\bhilite\b/.test(this.el.className)},hilite:function(){this.isHilited()||(this.el.className+=" hilite",this.el.parentNode.appendChild(this.el))},unhilite:function(){this.isHilited()&&(this.el.className=this.el.className.replace(/\shilite\b/,""))}}),t}var r,o=n(2);e.a=function(t){return new(r=r||i())(t)}},41:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(42),r=(n.n(i),n(3)),o=n(4),s=n(8),a=n(23),c=n(18),l=n(0),u=n.n(l),h=n(43),d=(n.n(h),n(44)),f=(n.n(d),n(45));n.n(f);r.b.readyTask(function(){var t=function(){a.a.notify(o.e.get("messaging"))};o.e.on("change:messaging",t),t(),s.b.sendContext(),o.e.fetch().then(function(){c.a.install(o.e.get("volume").embed_host)})},{priority:r.b.HIGH}),r.b.readyTask(function(){var t=window.chorusInitQueue=window.chorusInitQueue||[],e=function(t){if("function"===typeof t)try{t.call(null,u.a)}catch(t){console.log("chorusInitQueue: Error processing command :"+t.message)}};t.push=function(t){e(t)};for(var n=0;n<t.length;n++)e(t[n])},{priority:r.b.LOW}),o.e.fetch(),window.Context=o.e},42:function(t,e){},43:function(t,e,n){t.exports=n.p+"components/foundation/base/assets/polygon_badge-9af0b16f5b13a9a02573cff2d7cd457b.svg"},44:function(t,e,n){t.exports=n.p+"components/foundation/base/assets/polygon_badge_hover-6521888a20ba7dced8bf2f3769c62587.svg"},45:function(t,e,n){t.exports=n.p+"components/foundation/base/assets/polygon_badge_review-e3d01cb6fd97ad5e146507cad1c39dd6.svg"},46:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(68),r=(n.n(i),n(3)),o=n(0),s=n.n(o),a=n(17);r.b.registerComponent("site/byline",function(t,e){var n=a.a.combinedRelative(1e3*e.timestamp);n&&s()(t).find("[data-relative-timestamp]").text(n)})},47:function(t,e){},48:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n(25),n(81)),r=(n.n(i),n(6)),o=(n.n(r),n(3)),s=n(7),a=n(4);o.b.registerComponent("apps/comment_forum",function(t,e){function i(){i.called||(i.called=!0,window.removeEventListener("keydown",r),a.d.fetch().then(function(){n.e(1).then(n.bind(null,117)).then(function(n){return new n.default(t,e)})}))}function r(t){var n;if(!/textarea|input/i.test(document.activeElement.tagName)&&!t.ctrlKey&&!t.metaKey)switch(t.which){case 67:n="c";break;case 90:n="z"}n&&(document.body.scrollTop=document.getElementById("comments").offsetTop-.3*window.innerHeight,e.launchKey=n,i())}window.addEventListener("keydown",r);var o=location.hash.slice(1);"comments"==o?i():/^\d+$/.test(o)?(e.selection=Number(o),i()):s.a.trackElement(t,i)},{priority:o.b.HIGH})},5:function(t,e,n){"use strict";var i=n(0),r=n.n(i),o=n(10),s=n(2),a=n(6),c=(n.n(a),{isTouch:function(){return void 0===this._touch&&(this._touch="ontouchstart"in window||navigator.msMaxTouchPoints>0),this._touch},isSmallWindow:function(t){t=t||600;var e=document.documentElement;return(window.innerWidth||e&&e.clientWidth||document.body.clientWidth)<=t},isSmallScreen:function(t,e){var n=0;isNaN(parseInt(window.orientation))?isNaN(s.a.get(window,"screen.orientation.angle",NaN))||(n=window.screen.orientation.angle):n=window.orientation;var i=90==n||-90==n||270==n,r=i?screen.height:screen.width,t=i?e||800:t||600;return r<=t},isMobile:function(){return this.isTouch()&&this.isSmallScreen()},isFullScreen:function(){return document.isFullScreen||document.mozIsFullScreen||document.webkitIsFullScreen},isCORSEnabled:function(){return!window.navigator.userAgent.match(/MSIE (6|7|8|9)/)},isITPEnabled:function(){var t=window.navigator.userAgent.match(/(\d+(?:\.\d+)?) Safari/i);return t&&parseFloat(t[1])>=11},breakpoint:function(){for(var t=[{name:"xsmall",min:0,max:400},{name:"small",min:401,max:600},{name:"medium_small",min:601,max:728},{name:"medium",min:749,max:880},{name:"large_medium",min:881,max:950},{name:"large",min:956,max:1080},{name:"xlarge_large",min:1081,max:1200},{name:"xlarge",min:1201,max:1500},{name:"xxlarge",min:1501,max:1/0}],e=t.length-1;e>=0;e--){var n=t[e],i=screen.width;if(i>=n.min&&i<=n.max)return n.name}return n.name},browser:function(){if(!this._browser){var t=navigator.userAgent.toLowerCase(),e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||/(firefox)[ \/]([\w.]+)/.exec(t)||/(trident)[ \/]([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[],n=e[1]||"",i=e[2]||"0",r=this._browser={};n&&(r[n]=!0,r.version=i,"Netscape"===navigator.appName&&"trident"===n&&(r.msie=!0,r.version="11")),r.chrome?r.webkit=!0:r.webkit&&(r.safari=!0)}return this._browser},iOSversion:function(){if(/iP(hone|od|ad)/.test(navigator.appVersion)){var t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return{iOS:!0,majorVersion:parseInt(t[1],10),minorVersion:parseInt(t[2],10)}}return{iOS:!1}},imageFormats:function(){if(!this._imgs){var t=this,e=this._imgs=r.a.Deferred(),n=o.b.get("chorus-imgs-v1"),i=["webp"];if(n&&n.hasOwnProperty(i[0]))e.resolve(n);else{var s={webp:"data:image/webp;base64,UklGRiYAAABXRUJQVlA4IBoAAAAwAQCdASoBAAEAAIAOJaQAA3AA/v89WAAAAA=="},a=Object.keys(s),c=0,l=function(){(c+=1)===a.length&&(s.preferred=i.filter(function(t){return s[t]})[0],t.isTouch()&&(s.preferred=null),o.b.set("chorus-imgs-v1",s),e.resolve(s))};a.forEach(function(t){var e=new Image;e.onload=function(){s[t]=e.height>0&&e.width>0,l()},e.onerror=function(){s[t]=!1,l()},e.src=s[t]})}}return this._imgs.promise()},supportsPictureElement:function(){var t=navigator.userAgent,e=/(webkit)[ \/]([\w.]+)/.exec(t.toLowerCase()),n=/(chrome)[ \/]([\w.]+)/.exec(t.toLowerCase()),i=/(Edge)[ \/]([\w.]+)/.exec(t),r=/MSIE|Trident/.test(t);return!(!n&&e&&parseFloat(e[2])<601.6||r||i&&parseFloat(i[2])<13.10547||/Opera Mobi/.test(t))},supportsAutoplayVideo:function(){return new Promise(function(t,e){function n(c){r++,clearTimeout(i);var l=c&&"playing"===c.type||0!==a.currentTime;if(!l&&r<o)return void(i=setTimeout(n,s));a.parentNode&&a.parentNode.removeChild(a),l?t():e()}var i=void 0,r=0,o=5,s=200,a=document.createElement("video");a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")?a.src="data:video/ogg;base64,T2dnUwACAAAAAAAAAABmnCATAAAAAHDEixYBKoB0aGVvcmEDAgEAAQABAAAQAAAQAAAAAAAFAAAAAQAAAAAAAAAAAGIAYE9nZ1MAAAAAAAAAAAAAZpwgEwEAAAACrA7TDlj///////////////+QgXRoZW9yYSsAAABYaXBoLk9yZyBsaWJ0aGVvcmEgMS4xIDIwMDkwODIyIChUaHVzbmVsZGEpAQAAABoAAABFTkNPREVSPWZmbXBlZzJ0aGVvcmEtMC4yOYJ0aGVvcmG+zSj3uc1rGLWpSUoQc5zmMYxSlKQhCDGMYhCEIQhAAAAAAAAAAAAAEW2uU2eSyPxWEvx4OVts5ir1aKtUKBMpJFoQ/nk5m41mUwl4slUpk4kkghkIfDwdjgajQYC8VioUCQRiIQh8PBwMhgLBQIg4FRba5TZ5LI/FYS/Hg5W2zmKvVoq1QoEykkWhD+eTmbjWZTCXiyVSmTiSSCGQh8PB2OBqNBgLxWKhQJBGIhCHw8HAyGAsFAiDgUCw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDAwPEhQUFQ0NDhESFRUUDg4PEhQVFRUOEBETFBUVFRARFBUVFRUVEhMUFRUVFRUUFRUVFRUVFRUVFRUVFRUVEAwLEBQZGxwNDQ4SFRwcGw4NEBQZHBwcDhATFhsdHRwRExkcHB4eHRQYGxwdHh4dGxwdHR4eHh4dHR0dHh4eHRALChAYKDM9DAwOExo6PDcODRAYKDlFOA4RFh0zV1A+EhYlOkRtZ00YIzdAUWhxXDFATldneXhlSFxfYnBkZ2MTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTEhIVGRoaGhoSFBYaGhoaGhUWGRoaGhoaGRoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhESFh8kJCQkEhQYIiQkJCQWGCEkJCQkJB8iJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQREhgvY2NjYxIVGkJjY2NjGBo4Y2NjY2MvQmNjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRISEhUXGBkbEhIVFxgZGxwSFRcYGRscHRUXGBkbHB0dFxgZGxwdHR0YGRscHR0dHhkbHB0dHR4eGxwdHR0eHh4REREUFxocIBERFBcaHCAiERQXGhwgIiUUFxocICIlJRcaHCAiJSUlGhwgIiUlJSkcICIlJSUpKiAiJSUlKSoqEBAQFBgcICgQEBQYHCAoMBAUGBwgKDBAFBgcICgwQEAYHCAoMEBAQBwgKDBAQEBgICgwQEBAYIAoMEBAQGCAgAfF5cdH1e3Ow/L66wGmYnfIUbwdUTe3LMRbqON8B+5RJEvcGxkvrVUjTMrsXYhAnIwe0dTJfOYbWrDYyqUrz7dw/JO4hpmV2LsQQvkUeGq1BsZLx+cu5iV0e0eScJ91VIQYrmqfdVSK7GgjOU0oPaPOu5IcDK1mNvnD+K8LwS87f8Jx2mHtHnUkTGAurWZlNQa74ZLSFH9oF6FPGxzLsjQO5Qe0edcpttd7BXBSqMCL4k/4tFrHIPuEQ7m1/uIWkbDMWVoDdOSuRQ9286kvVUlQjzOE6VrNguN4oRXYGkgcnih7t13/9kxvLYKQezwLTrO44sVmMPgMqORo1E0sm1/9SludkcWHwfJwTSybR4LeAz6ugWVgRaY8mV/9SluQmtHrzsBtRF/wPY+X0JuYTs+ltgrXAmlk10xQHmTu9VSIAk1+vcvU4ml2oNzrNhEtQ3CysNP8UeR35wqpKUBdGdZMSjX4WVi8nJpdpHnbhzEIdx7mwf6W1FKAiucMXrWUWVjyRf23chNtR9mIzDoT/6ZLYailAjhFlZuvPtSeZ+2oREubDoWmT3TguY+JHPdRVSLKxfKH3vgNqJ/9emeEYikGXDFNzaLjvTeGAL61mogOoeG3y6oU4rW55ydoj0lUTSR/mmRhPmF86uwIfzp3FtiufQCmppaHDlGE0r2iTzXIw3zBq5hvaTldjG4CPb9wdxAme0SyedVKczJ9AtYbgPOzYKJvZZImsN7ecrxWZg5dR6ZLj/j4qpWsIA+vYwE+Tca9ounMIsrXMB4Stiib2SPQtZv+FVIpfEbzv8ncZoLBXc3YBqTG1HsskTTotZOYTG+oVUjLk6zhP8bg4RhMUNtfZdO7FdpBuXzhJ5Fh8IKlJG7wtD9ik8rWOJxy6iQ3NwzBpQ219mlyv+FLicYs2iJGSE0u2txzed++D61ZWCiHD/cZdQVCqkO2gJpdpNaObhnDfAPrT89RxdWFZ5hO3MseBSIlANppdZNIV/Rwe5eLTDvkfWKzFnH+QJ7m9QWV1KdwnuIwTNtZdJMoXBf74OhRnh2t+OTGL+AVUnIkyYY+QG7g9itHXyF3OIygG2s2kud679ZWKqSFa9n3IHD6MeLv1lZ0XyduRhiDRtrNnKoyiFVLcBm0ba5Yy3fQkDh4XsFE34isVpOzpa9nR8iCpS4HoxG2rJpnRhf3YboVa1PcRouh5LIJv/uQcPNd095ickTaiGBnWLKVWRc0OnYTSyex/n2FofEPnDG8y3PztHrzOLK1xo6RAml2k9owKajOC0Wr4D5x+3nA0UEhK2m198wuBHF3zlWWVKWLN1CHzLClUfuoYBcx4b1llpeBKmbayaR58njtE9onD66lUcsg0Spm2snsb+8HaJRn4dYcLbCuBuYwziB8/5U1C1DOOz2gZjSZtrLJk6vrLF3hwY4Io9xuT/ruUFRSBkNtUzTOWhjh26irLEPx4jPZL3Fo3QrReoGTTM21xYTT9oFdhTUIvjqTkfkvt0bzgVUjq/hOYY8j60IaO/0AzRBtqkTS6R5ellZd5uKdzzhb8BFlDdAcrwkE0rbXTOPB+7Y0FlZO96qFL4Ykg21StJs8qIW7h16H5hGiv8V2Cflau7QVDepTAHa6Lgt6feiEvJDM21StJsmOH/hynURrKxvUpQ8BH0JF7BiyG2qZpnL/7AOU66gt+reLEXY8pVOCQvSsBtqZTNM8bk9ohRcwD18o/WVkbvrceVKRb9I59IEKysjBeTMmmbA21xu/6iHadLRxuIzkLpi8wZYmmbbWi32RVAUjruxWlJ//iFxE38FI9hNKOoCdhwf5fDe4xZ81lgREhK2m1j78vW1CqkuMu/AjBNK210kzRUX/B+69cMMUG5bYrIeZxVSEZISmkzbXOi9yxwIfPgdsov7R71xuJ7rFcACjG/9PzApqFq7wEgzNJm2suWESPuwrQvejj7cbnQxMkxpm21lUYJL0fKmogPPqywn7e3FvB/FCNxPJ85iVUkCE9/tLKx31G4CgNtWTTPFhMvlu8G4/TrgaZttTChljfNJGgOT2X6EqpETy2tYd9cCBI4lIXJ1/3uVUllZEJz4baqGF64yxaZ+zPLYwde8Uqn1oKANtUrSaTOPHkhvuQP3bBlEJ/LFe4pqQOHUI8T8q7AXx3fLVBgSCVpMba55YxN3rv8U1Dv51bAPSOLlZWebkL8vSMGI21lJmmeVxPRwFlZF1CpqCN8uLwymaZyjbXHCRytogPN3o/n74CNykfT+qqRv5AQlHcRxYrC5KvGmbbUwmZY/29BvF6C1/93x4WVglXDLFpmbapmF89HKTogRwqqSlGbu+oiAkcWFbklC6Zhf+NtTLFpn8oWz+HsNRVSgIxZWON+yVyJlE5tq/+GWLTMutYX9ekTySEQPLVNQQ3OfycwJBM0zNtZcse7CvcKI0V/zh16Dr9OSA21MpmmcrHC+6pTAPHPwoit3LHHqs7jhFNRD6W8+EBGoSEoaZttTCZljfduH/fFisn+dRBGAZYtMzbVMwvul/T/crK1NQh8gN0SRRa9cOux6clC0/mDLFpmbarmF8/e6CopeOLCNW6S/IUUg3jJIYiAcDoMcGeRbOvuTPjXR/tyo79LK3kqqkbxkkMRAOB0GODPItnX3Jnxro/25Ud+llbyVVSN4ySGIgHA6DHBnkWzr7kz410f7cqO/Syt5KqpFVJwn6gBEvBM0zNtZcpGOEPiysW8vvRd2R0f7gtjhqUvXL+gWVwHm4XJDBiMpmmZtrLfPwd/IugP5+fKVSysH1EXreFAcEhelGmbbUmZY4Xdo1vQWVnK19P4RuEnbf0gQnR+lDCZlivNM22t1ESmopPIgfT0duOfQrsjgG4tPxli0zJmF5trdL1JDUIUT1ZXSqQDeR4B8mX3TrRro/2McGeUvLtwo6jIEKMkCUXWsLyZROd9P/rFYNtXPBli0z398iVUlVKAjFlY437JXImUTm2r/4ZYtMy61hf16RPJIU9nZ1MABAwAAAAAAAAAZpwgEwIAAABhp658BScAAAAAAADnUFBQXIDGXLhwtttNHDhw5OcpQRMETBEwRPduylKVB0HRdF0A":a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")?a.src="data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAAAs1tZGF0AAACrgYF//+q3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0OCByMjYwMSBhMGNkN2QzIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNSAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDExMyBtZT1oZXggc3VibWU9NyBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0xIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MSA4eDhkY3Q9MSBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0tMiB0aHJlYWRzPTEgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PTI1MCBrZXlpbnRfbWluPTEwIHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAD2WIhAA3//728P4FNjuZQQAAAu5tb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAAZAABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACGHRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAZAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAgAAAAIAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAGQAAAAAAAEAAAAAAZBtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAACgAAAAEAFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAE7bWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAA+3N0YmwAAACXc3RzZAAAAAAAAAABAAAAh2F2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAgACAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAxYXZjQwFkAAr/4QAYZ2QACqzZX4iIhAAAAwAEAAADAFA8SJZYAQAGaOvjyyLAAAAAGHN0dHMAAAAAAAAAAQAAAAEAAAQAAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAABRzdHN6AAAAAAAAAsUAAAABAAAAFHN0Y28AAAAAAAAAAQAAADAAAABidWR0YQAAAFptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABtZGlyYXBwbAAAAAAAAAAAAAAAAC1pbHN0AAAAJal0b28AAAAdZGF0YQAAAAEAAAAATGF2ZjU2LjQwLjEwMQ==":e(),a.style.position="absolute",a.style.height=0,a.style.width=0,a.setAttribute("muted",""),a.setAttribute("playsinline",""),a.setAttribute("autoplay",""),a.style.display="none",document.documentElement.appendChild(a),setTimeout(function(){a.play(),a.addEventListener("playing",n,!1),i=setTimeout(n,s)},0)})},supportsObjectFit:function(){return"objectFit"in document.documentElement.style},supportsIntersectionObserver:function(){return!!window.IntersectionObserver}});e.a=c},52:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n(64),n(3)),r=n(1),o=n.n(r),s=n(0),a=n.n(s),c=n(2),l=n(30),u=o.a.View.extend({initialize:function(t){var e=this;this.data=t.data||{},this.backgroundEl=this.getBackgroundElement(),this.displayImageType(),a()(window).on("resize",c.a.throttle(function(){return e.displayImageType()},150))},displayImageType:function(){var t=l.a.hasLightBackground(this.backgroundEl,this.getPseudoSelector())?"dark":"light",e=this.data[t+"_url"];if(e&&this.$el.attr("src")!==e){var n=new Image,i=this;n.onload=function(){i.$el.attr("src",e),i.data.is_header&&a()(window).trigger("resize")},n.src=e}},getBackgroundElement:function(){return this.parseBackgroundSelector()?document.querySelector(this.parseBackgroundSelector()[0]):this.$el[0].parentNode},getPseudoSelector:function(){var t;return this.parseBackgroundSelector()&&(t=this.parseBackgroundSelector()[1]),t},parseBackgroundSelector:function(){var t;return this.data.background_selector&&(t=this.data.background_selector.replace("::",":").split(":")),t}}),h=u;i.b.registerComponent("site/disclaimer_image",function(t,e){new h({el:t,data:e})})},55:function(t,e,n){"use strict";function i(t){return t.which>1||t.ctrlKey||t.metaKey}function r(t){return t.parents(".is-not-enlargeable").length>0}function o(t){return t.height()>window.innerHeight}Object.defineProperty(e,"__esModule",{value:!0});var s=(n(71),n(3)),a=n(0),c=n.n(a),l=n(11),u=n(1),h=n.n(u),d=Object(l.a)(n(72)),f=h.a.View.extend({className:"is-enlargeable",$enlargedOverlay:null,$body:c()("body"),enlarge:function(){this._boundClick=this.handleEnlargedClick.bind(this),this._boundKeyPress=this.handleKeypress.bind(this),this.$enlargedOverlay=c()(d({original:this.$el.data("original")})),this.$enlargedOverlay.on("click",this._boundClick),this.$body.addClass("enlarged-image-active"),this.$body.on("keydown",this._boundKeyPress),this.$body.append(this.$enlargedOverlay)},removeEnlargedImage:function(){this.$enlargedOverlay&&(this.$enlargedOverlay.remove(),this.$enlargedOverlay.off("click",this._boundClick),this.$enlargedOverlay=null,this.$body.removeClass("enlarged-image-active"),this.$body.off("keydown",this._boundKeyPress))},toggleNoMax:function(){this.$enlargedOverlay.toggleClass("no-max")},events:{click:"handleImageClick"},handleEnlargedClick:function(t){i(t)||("img"!==t.target.nodeName.toLowerCase()||this.$enlargedOverlay.hasClass("no-max")?this.removeEnlargedImage():this.toggleNoMax())},handleKeypress:function(t){27===t.keyCode&&this.removeEnlargedImage()},handleImageClick:function(t){i(t)||o(this.$el)||r(this.$el)||this.enlarge()}}),p=f;s.b.registerComponent("site/image_enlarge",{build:function(t){return new p({el:t})}})},56:function(t,e,n){"use strict";function i(){return r=r||n.e(4).then(n.bind(null,115))}Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(6),s=(n.n(o),n(3));s.b.registerComponent("site/snippet_animation",{build:function(t){i().then(function(e){return new e.default({el:t})})}})},57:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n(22),n(58),n(74));n.n(i)},58:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(73);n.n(i)},6:function(t,e){!function(){"use strict";function t(t){h.push(t),1==h.length&&u()}function e(){for(;h.length;)h[0](),h.shift()}function n(t){this.a=d,this.b=void 0,this.f=[];var e=this;try{t(function(t){o(e,t)},function(t){s(e,t)})}catch(t){s(e,t)}}function i(t){return new n(function(e,n){n(t)})}function r(t){return new n(function(e){e(t)})}function o(t,e){if(t.a==d){if(e==t)throw new TypeError;var n=!1;try{var i=e&&e.then;if(null!=e&&"object"==typeof e&&"function"==typeof i)return void i.call(e,function(e){n||o(t,e),n=!0},function(e){n||s(t,e),n=!0})}catch(e){return void(n||s(t,e))}t.a=0,t.b=e,a(t)}}function s(t,e){if(t.a==d){if(e==t)throw new TypeError;t.a=1,t.b=e,a(t)}}function a(e){t(function(){if(e.a!=d)for(;e.f.length;){var t=e.f.shift(),n=t[0],i=t[1],r=t[2],t=t[3];try{0==e.a?r("function"==typeof n?n.call(void 0,e.b):e.b):1==e.a&&("function"==typeof i?r(i.call(void 0,e.b)):t(e.b))}catch(e){t(e)}}})}function c(t){return new n(function(e,n){var i=0,o=[];0==t.length&&e(o);for(var s=0;s<t.length;s+=1)r(t[s]).c(function(n){return function(r){o[n]=r,(i+=1)==t.length&&e(o)}}(s),n)})}function l(t){return new n(function(e,n){for(var i=0;i<t.length;i+=1)r(t[i]).c(e,n)})}var u,h=[];u=function(){setTimeout(e)};var d=2;n.prototype.g=function(t){return this.c(void 0,t)},n.prototype.c=function(t,e){var i=this;return new n(function(n,r){i.f.push([t,e,n,r]),a(i)})},window.Promise||(window.Promise=n,window.Promise.resolve=r,window.Promise.reject=i,window.Promise.race=l,window.Promise.all=c,window.Promise.prototype.then=n.prototype.c,window.Promise.prototype.catch=n.prototype.g)}()},61:function(t,e,n){"use strict";var i={loadTwitter:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];window.twttr||(document.querySelector('[class^="twitter-"]')||t)&&(window.twttr=function(t,e,n){var i,r=t.getElementsByTagName(e)[0],o=window.twttr||{};return t.getElementById(n)?o:(i=t.createElement(e),i.id=n,i.src="https://platform.twitter.com/widgets.js",r.parentNode.insertBefore(i,r),o._e=[],o.ready=function(t){o._e.push(t)},o)}(document,"script","twitter-wjs"))},fullBleed:function(t){if(t){var e=document.getElementById("full-bleed-style"),n=t.offsetLeft,i=document.createElement("style");i.id="full-bleed-style",i.innerHTML=".fullbleed-block, .p-fullbleed-block{max-width:none !important;margin-left:-"+n+"px !important;width:"+window.innerWidth+"px !important;}",e?e.parentNode.replaceChild(i,e):document.head.appendChild(i)}}};e.a=i},63:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n(29),n(34),n(67));n.n(i)},64:function(t,e){},65:function(t,e){},66:function(t,e){},67:function(t,e){},68:function(t,e){},69:function(t,e){},7:function(t,e,n){"use strict";var i=n(2),r={els:[],_h:null,_t:null,_b:null,callElementsInViewport:function(){for(var t=this.els.length-1;t>=0;t--){var e=this.els[t];if(this.testElementInViewport(e.el,e.t)){e.fn.call(null,e.el)||this.els.splice(t,1)}}},testElementInViewport:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-.5,n=this._h;n||(n=this._h=window.innerHeight||document.documentElement.clientHeight);var i=this._t=e*n,r=this._b=n-i,o=t.getBoundingClientRect();return o.top>=i&&o.top<=r||o.bottom>=i&&o.bottom<=r},trackElement:function(t,e,n){var r=!0;this.testElementInViewport(t,n)&&(r=e(t)),r&&(this.els.push({el:t,fn:e,t:n}),this._init||(this._init=!0,window.addEventListener("scroll",i.a.throttle(this.callElementsInViewport,200,this)),window.addEventListener("resize",i.a.throttle(this.refresh,200,this))))},refresh:function(){this._h=null,this.callElementsInViewport()}};e.a=r},71:function(t,e){},72:function(t,e){t.exports='<div class="c-image-enlarge__overlay">\n  <img src="<%= data.original %>" />\n</div>\n'},73:function(t,e){},74:function(t,e){},75:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n(6),n(0)),r=n.n(i),o=n(3),s=[],a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(t?c(t):s=document.querySelectorAll(".balance-text"),"number"!=typeof(e=+e)||isNaN(e))e=1;else if(0==(e=Math.max(0,Math.min(1,e))))return;u(e);var n=l(function(){u(e)},100);window.addEventListener("resize",n)},c=function(t){for(var e=t.split(","),n=0;n<e.length;n+=1)for(var i=document.querySelectorAll(e[n].trim()),r=0;r<i.length;r+=1){var o=i[r];s.push(o)}},l=function(t,e,n){var i;return function(){var r=this,o=arguments,s=function(){i=null,n||t.apply(r,o)},a=n&&!i;clearTimeout(i),i=setTimeout(s,e),a&&t.apply(r,o)}},u=function(t){var e,n;for(n=0;n<s.length;n+=1){e=s[n],e.style.maxWidth="";if("start"===getComputedStyle(e,null).textAlign){var i=Math.max(50,e.offsetWidth/2-10);h(e,e.clientHeight,e.offsetWidth,i,e.clientWidth,t)}}},h=function t(e,n,i,r,o,s){if(r+5>=o)return void(e.style.maxWidth=Math.round(i-s*(i-o)).toString()+"px");var a=(r+o)/2;e.style.maxWidth=a+"px",e.clientHeight>n?t(e,n,i,a+1,o,s):t(e,n,i,r,a,s)},d=a,f=r.a.Deferred();o.b.registerComponent("site/font_loader",function(t,e){function i(){e.headline_balance_div_classes&&e.headline_balance_fraction&&e.headline_balance_fraction>0&&d(e.headline_balance_div_classes,e.headline_balance_fraction)}var o=document.documentElement;if(document.fonts)f.resolve(),i();else{var s=function(){o.classList.add("fonts-loaded"),r()(o).trigger("fontsloaded",{}),i(),f.resolve()},a=function(){o.classList.add("fonts-loaded"),f.reject()};n.e(3).then(n.bind(null,747)).then(function(t){return t.loadFonts(e)}).then(s,a)}},{priority:o.b.HIGH,load:function(){return f.promise()}})},76:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(3),o=n(1),s=n.n(o),a=n(4),c=n(0),l=n.n(c),u=function(){var t=this;return i||(i=l.a.Deferred(),a.e.fetch().then(function(){t.networkFoursquareUserID=a.c.get("foursquare_user_id"),window.___fourSq={uid:t.networkFoursquareUserID,explicit:!1,secure:!0,onReady:function(){i.resolve()}},l.a.getScript("https://platform-s.foursquare.com/js/widgets.js")})),i.promise()},h=s.a.View.extend({initialize:function(t){var e=this;u().then(function(){new fourSq.widget.SaveTo({vid:e.$el.data("foursquare-id")}).attach(e.el),e.$el.on("click",function(t){t.preventDefault()})})}}),d=h;r.b.registerComponent("site/foursquare_button",function(t,e){new d({el:t})})},77:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(78);n.n(i)},78:function(t,e){},79:function(t,e){},8:function(t,e,n){"use strict";function i(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dataLayer";this.dataLayer=window[e]||[],this.depths=[25,50,75,90],this.onReady(function(){var e=[].slice.call(document.querySelectorAll("[data-analytics-viewport]"));e=e.filter(function(t){return"video"!==t.getAttribute("data-analytics-viewport")}),/analytics-viewport=~false~/.test(location.search)||t.trackElementView(e),t.trackScrollDepth(!0)})}function r(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(){for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];o[0]instanceof Array&&(o=o[0]),"string"===typeof o[0]&&o[0].match(/send|_track/)&&o.shift(),o[0]===t.toLowerCase()&&o.shift();for(var a=0,c={},l=0;l<o.length||a<n.length;l++){var u=o[l];if("function"===typeof u)c.eventCallback=u;else if("boolean"===typeof u)u&&(c.eventNonInt=u);else if("object"===("undefined"===typeof u?"undefined":d(u)))for(var h in u)u.hasOwnProperty(h)&&(c[i[h]||h]=u[h]);else if(n[a]){var f=n[a++];c.hasOwnProperty(f)||(c[f]=u)}}return c.event=e,c}}n.d(e,"a",function(){return f});var o=n(0),s=n.n(o),a=n(4),c=n(2),l=n(5),u=n(7),h=n(17),d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i.prototype={onReady:s.a,push:function(t){this.dataLayer.push(t)},formatEvent:r("event","analyticsEvent",["eventCategory","eventAction","eventLabel","eventValue","eventNonInt"],{nonInteraction:"eventNonInt",hitCallback:"eventCallback"}),formatSocial:r("social","social",["socialNetwork","socialAction","socialTarget","socialPagePath"],{page:"socialPagePath",hitCallback:"eventCallback"}),formatPageview:r("pageview","virtualPageView",["virtualPagePath","virtualPageTitle"],{page:"virtualPagePath",title:"virtualPageTitle",hitCallback:"eventCallback"}),event:function(){this.push(this.formatEvent.apply(this,arguments))},social:function(){this.push(this.formatSocial.apply(this,arguments))},pageview:function(){this.push(this.formatPageview.apply(this,arguments))},nav:function(t,e,n){t=[t,this.contentType(),this.contentFormat()].join(":"),this.push(this.formatEvent("navigation",t,e,n))},eventAutoFormat:function(t,e,n){var i=[t,e].join(":"),r=[t,this.contentType(),e].join(":");return this.event(t,i,r,n)},trackElementView:function(t){var e=this,n=function(t){e.push({event:"elementView","gtm.element":t})};"string"===typeof t?t=document.querySelectorAll(t):Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++)u.a.trackElement(t[i],n)},trackScrollDepth:function(t){t&&t.hasOwnProperty("disable")&&(this._noSD=t.disable),this._noSD&&(t=!1);var e=s()(window).off("scroll.scrolldepth");t&&(e.on("scroll.scrolldepth",c.a.throttle(this._depth,100,this)),this._depth(!0))},_depth:function(t,e,n,i){var r=this.depths;i=i||window.pageYOffset,e=e||window.innerHeight,n=n||document.body.scrollHeight;for(var o=i/n*100,s=(i+e)/n*100,a=r.length-1;a>=0;a--){var c=r[a];if((c>=o&&c<=s||t&&c<=s)&&(this.eventAutoFormat("interaction",c,!0),r.splice(a,1),t))return}r.length||this.trackScrollDepth(!1)},getVariable:function(t){for(var e=this.dataLayer,n=e.length-1;n>=0;n--)if(e[n].hasOwnProperty(t))return e[n][t]},contentType:function(){return this.getVariable("Content Type")||"other"},contentFormat:function(){return/small|medium/.test(l.a.breakpoint())||l.a.isSmallWindow(600)?"mobile":"desktop"},sendContext:function(){var t=this;a.d.fetch().then(function(){var e=h.a.server(h.a.EST);t.push({"Hour of Day":e.getHours(),"Day of Week":h.a.nameOfDay(e.getDay()).toLowerCase(),"Logged in Status":a.d.get("id")||"Logged Out",Breakpoint:l.a.breakpoint()})})}},e.b=new i;var f=i},80:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(1),o=n.n(r),s=n(4),a=n(0),c=n.n(a),l=o.a.View.extend({initialize:function(t){var e=this;s.e.fetch().then(function(){e.opentableRefID=s.c.get("opentable_ref_id"),e.$el.on("click",function(t){e.handleClick(t)})})},handleClick:function(t){t.preventDefault();var e={rid:t.currentTarget.getAttribute("data-opentable-id"),ref:this.opentableRefID},n="http://www.opentable.com/single.aspx?"+c.a.param(e);window.open(n,"_blank")}}),u=l;i.b.registerComponent("site/opentable_button",function(t,e){new u({el:t})})},81:function(t,e){},82:function(t,e,n){"use strict";function i(){var t=document.querySelector('meta[name="style-tools"]'),e=document.createElement("link");e.rel="stylesheet",e.media="all",e.href=t?t.content:"/style/"+Date.now()+"/tools.css",document.head.appendChild(e),n.e(2).then(n.bind(null,118)).then(function(t){return o.b.run()})}Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),o=(n.n(r),n(3)),s=n(4);o.b.readyTask(function(){s.d.fetch().then(function(){(s.d.get("can_edit")||s.d.get("can_admin"))&&i()})})},9:function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===typeof window&&(n=window)}t.exports=n},92:function(t,e,n){"use strict";var i=n(1),r=n.n(i),o=n(14),s=n(7),a=r.a.Model.extend({defaults:{lat:0,lon:0,id:null,index:null,title:null,type:null,slug:null},isMapCard:function(){var t=this.attributes;return!(t.type!==o.a.POINT||!t.lat||!t.lon)},isLinkable:function(){return-1!=[o.a.POINT,o.a.COMMENTS].indexOf(this.get("type"))},isSponsored:function(){return!!this.get("sponsor")},getTitle:function(){var t=this.collection.getTitle(),e=this.get("title");return e&&t&&e!==t?t+" - "+e:e||t},getPath:function(){return[this.collection.slug,this.get("slug")].join("/")},getUrl:function(){return[location.origin,this.collection.root,this.getPath()].join("/")}}),c=r.a.Collection.extend({initialize:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.root=e.root||"maps",this.slug=e.slug||"",this.id=e.id},model:a,_selection:0,selectAction:null,allMapCards:function(){return this.models.filter(function(t){return t.isMapCard()})},allEditorialMapCards:function(){return this.allMapCards().filter(function(t){return!t.isSponsored()})},allSponsoredMapCards:function(){return this.allMapCards().filter(function(t){return t.isSponsored()})},selectedIndex:function(){return this.length<1?-1:Math.max(0,Math.min(this._selection,this.length-1))},selectedCard:function(){return this.length<1?null:this.at(this.selectedIndex())},selectedSlug:function(){var t=this.selectedCard();return t?t.get("slug"):null},next:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!(this.length<1)){var e=this._selection+1;if(t.mapCard)for(var n=1;n<=this.length;n+=1){var i=(this._selection+n)%this.length;if(this.at(i).isMapCard()){e=i;break}}e<this.length&&this.selectByIndex(e,t.action)}},previous:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!(this.length<1)){var e=this._selection-1;if(t.mapCard)for(var n=1;n<=this.length;n+=1){var i=this._selection-n;if(i<0&&(i+=this.length),this.at(i).isMapCard()){e=i;break}}e>=0&&this.selectByIndex(e,t.action)}},selectByIndex:function(t,e){return t>=0&&t<this.length&&t!=this._selection&&(this._selection=t,this.selectAction=e||null,this.trigger("selection",e),setTimeout(function(){s.a.refresh()},200),!0)},selectBySlug:function(t,e){for(var n=0;n<this.length;n++)if(this.at(n).get("slug")===t)return this.selectByIndex(n,e),!0;return!1},findWhere:function(t){for(var e=t.path,n=t.url,i=0;i<this.length;i+=1){var r=this.models[i];if(n&&r.getUrl()===n)return r;if("string"===typeof e&&r.getPath()===e)return r;for(var o in t)if(r.attributes[o]===t[o])return r}return null},getTitle:function(){var t=this.findWhere({type:o.a.INTRO});return t?t.get("title"):""},getUrl:function(){return[location.origin,this.root,this.slug].join("/")},canNext:function(){return this._selection<this.length-1},canPrevious:function(){return this._selection>0}});e.a=c},93:function(t,e,n){"use strict";var i=n(1),r=n.n(i),o=n(14),s=r.a.Model.extend({defaults:{mode:o.b.LIST},isList:function(){return this.get("mode")===o.b.LIST},isStack:function(){return this.get("mode")===o.b.STACK},isMap:function(){return this.get("mode")===o.b.MAP},isMobile:function(){return window.innerWidth<600},restoreLastMode:function(){this.set("mode",this.previous("mode")||o.b.LIST)}});e.a=s},94:function(t,e,n){"use strict";var i=n(1),r=n.n(i),o=n(0),s=(n.n(o),n(2),n(5)),a=n(39),c=n(40),l=n(14),u=r.a.View.extend({markers:{},initialize:function(t){var e=this;this.app=t.app,this.markers={},Object(a.a)({isPreview:t.data.is_preview}).then(function(){var t=e.app.cards.allMapCards(),n=t[0],i=n?n.get("lat"):0,r=n?n.get("lon"):0;e.map=new google.maps.Map(e.el,{center:new google.maps.LatLng(i,r),mapTypeControl:!1,panControl:!1,scrollwheel:!1,streetViewControl:!1,zoom:14,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.LARGE,position:google.maps.ControlPosition.RIGHT_CENTER}}),t.forEach(function(t,n){var i=t.isSponsored()?" ":t.get("index")+1,r="c-mapstack__marker"+(t.isSponsored()?" c-mapstack__marker--sponsored":""),o=Object(c.a)({lat:t.get("lat"),lon:t.get("lon"),slug:t.get("slug"),label:i,cssClass:r});e.markers[t.get("slug")]=o,e.frame=o,o.setMap(e.map)}),google.maps.event.addListenerOnce(e.map,"idle",function(){e.listenTo(e.app.cards,"selection",e.render),e.listenTo(e.app.settings,"change:mode",e.reframe),e.showAllMarkers(),e.render()})})},render:function(){if(this.map){var t=this.markers[this.app.cards.selectedSlug()];this._sel&&(this._sel.unhilite(),this._sel=null),t&&(this.centerOn(t.latlng),this._sel=t,t.hilite())}},reframe:function(){google.maps.event.trigger(this.map,"resize"),this._sel?this.centerOn(this._sel.latlng):this.showAllMarkers()},contentAreaW:function(){var t=this.app.cardsView.el.getBoundingClientRect();return t?t.right:500},centerOn:function(t){var e=this.app.settings.isMobile(),n=this.frame.getProjection(),i=n.fromLatLngToContainerPixel(t),r=this.contentAreaW(),o=window.innerWidth;i.x-=e?0:r+(o-r)/2-o/2,i.y-=e?0:10,s.a.isTouch()?this.map.setCenter(n.fromContainerPixelToLatLng(i)):this.map.panTo(n.fromContainerPixelToLatLng(i))},showAllMarkers:function(){var t=new google.maps.LatLngBounds;for(var e in this.markers)if(this.markers.hasOwnProperty(e)){var n=this.markers[e];t.extend(n.latlng)}if(this.app.settings.isMobile())this.map.fitBounds(t);else{var i=window.innerWidth,r=this.contentAreaW()+20,o=i-r,s=this.frame.getProjection(),a=s.fromLatLngToDivPixel(t.getNorthEast()),c=s.fromLatLngToDivPixel(t.getSouthWest()),l=a.x-c.x,u=c.y-a.y,h=l/o,d=s.fromDivPixelToLatLng(new google.maps.Point(c.x-r*h,c.y)),f=s.fromDivPixelToLatLng(new google.maps.Point(c.x+l/2,c.y-u/2));this.map.fitBounds(t.extend(d)),this.centerOn(f)}},events:{"click [data-marker]":"onMarker"},onMarker:function(t){var e=this.$(t.currentTarget).data("marker");this.app.cards.selectBySlug(e,l.c.MARKER),this.trigger("marker")}});e.a=u},95:function(t,e,n){"use strict";var i=n(1),r=n.n(i),o=n(14),s=r.a.Router.extend({initialize:function(t){var e=this;this.app=t.app,this.load(),this.listenTo(this.app.cards,"selection",this.push),this.listenTo(this.app.settings,"change:mode",this.push),setTimeout(function(){e.push()},1e3),r.a.history.start({root:this.app.cards.root,pushState:!0})},load:function(){var t=this.app.cards,e=location.pathname.match(new RegExp("\\/"+t.root+"\\/[^\\/]+\\/(?:list\\/)?([^\\/\\?#]+)")),n=e?t.slug:null,i=e?e[1]:null;if(i){var r=t.findWhere({slug:i});r&&r.isLinkable()?this.app.settings.set("mode",o.b.STACK):(i=null,history.replaceState({},t.getTitle(),t.getUrl()))}this.pull(n,i)},routes:{":stack/:card":"pull",":stack":"pull","":"pull"},pull:function(t,e){var n=[];t&&(n.push(t),e&&n.push(e));var i=this.app.cards,e=i.findWhere({path:n.join("/")})||i.models[0];document.title=e.getTitle(),i.selectBySlug(e.get("slug"),"route")},push:function(){var t=this.app.cards,e=t.selectedCard();if(this.app.settings.isList()||!e.isLinkable())document.title=t.getTitle(),this.navigate(t.slug,{replace:!0});else{var e=t.selectedCard();document.title=e.getTitle(),this.navigate(e.getPath(),{replace:!0})}}});e.a=s}});
//# sourceMappingURL=map_stack_legacy-b9be577d24dfe74010f7.js.map